/**
收藏大师-幸运抽奖

必须条件：配置文件或者环境变量中添加变量：
//export jd_lottery_activityUrl="活动链接"


cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#收藏大师-幸运抽奖
1 1 1 1 * jd_txzj_lottery.js, tag=收藏大师-幸运抽奖, enabled=true
*/

const $ = new Env("收藏大师-幸运抽奖");
var OＯ0$='jsjiami.com.v6',OＯ0$_=['‮OＯ0$'],O00O=[OＯ0$,'cwVdWMKB','wrUpbgs4w4zDhjjDvBI=','w5vChcK/w6w=','KkTDsFhXw7nDvMKrw4ksw5pMdMOuwqV8MMK6Wh4Qf8Kq6K2N5rGz5aaD6LWc77+g6K2Z5qK45p6i57+a6La96YaP6K2g','wqvCpSs0','woPCt1pUO8KKwpbDt8OhAn7DiwDorZzmsq/lpZfot6Lvva3or7jmoLfmnJrnv6/otJXphLrorrA=','woTDsykQOTUMw67Ctl5jwrhkw6vCiQgMw5J9wroBdXHCl1A=','w50/BW/CnA==','LsOUw6zDosKA','JAXCkC3CvsO0','aHw3TMOn','wpnCocO1wqEp','wpcdKmkK','LsK1w6zCncKe','RcKNwpfCpTA=','X159Ww==','wrU4aE81w4TDgDXDrA==','w5vCm8OewpPDvQ==','wqvDmis0WA==','wpTDtAgIbA==','bRs8RsO+','w4PClH1Ww74=','w73Din/DoMOP','wpnCs0MRRw==','w6jCpcOWw6TDnA==','w4PClH03w74=','w51eBRDDvQ==','ZcKAHsKhUcK5aBPCow==','w4tMXUTCshQ=','w65Hwrhhwqs=','w6R9fsOvAw==','w4HDsEzDnMO0YA==','wqXCkh9IAw==','w5zDlsO+K3/DkMO3','cMO8PT1FOw==','TyQBYMK6','woLDhy94w67CsSo=','CHLDjVA=','UcOzwqbCukI=','Q8OGS8KG','55aP5a6v5Lq8','5oiP5aeT5pyU5L61','wofDkjxuOA==','w54bYEHCi213w5lCbmIHw7I6woTDp8KSw53CijrDpMKP6Kyx5rCb5aSS6Le6776R6K+d5qGK5pyV57+M6LSh6YWO6K6d','GHbCqcOvw6A=','w7rCuVPDpsOA','TMK5EAEB','AMKIwoXDpA==','MMOUw6zDosOh','AMO3w6TChcOF','YSM4wpXCmQ==','w4XDoAfDqw==','IAXCiDw=','eMKzwqE=','cBRQRF4=','VHzCqsKuRMOJwrzDtsOu','YMKZYw==','f1w4wovCmQ==','c8OoLT1U','wofCsyJwJg==','wqUjfkM=','MkbChBMo','UcKSwqbDm1w=','w4PCin0pwp8=','DmTDkw==','RcKTwpfCu1E=','5bec5a6f5oiY','asOnPCJELcKYSA==','HzvDiwfCnw==','wpjDnSppw6PCjQ==','VSYoHcKv','VC1zH8OA','wpXDrcO0wodu','LMKcYMKWwoh5LltIw77Ck2k9w4XCrMKYw7zDicOjw5xeSMKi6K2z5rOt5aWg6LeI77+n6KyQ5qGB5p2w57+46LeK6YeO6K2X','DMKbw543ORwBXMOaBMK8R8O5w7bCp3XCisOIOyHDosO+6K6x5rOx5aej6LSz772q6K2R5qK75p+2576O6LSk6YWw6K6g','wq5iwrwndgA=','w7LCinoQ','5bee6aCR5Y2R','w4NeenE=','w7rDt8OVfjc=','wofDkjwRJg==','fyNHw7TDuA==','dnxWLcKY','w7BHwrgewrU=','wrXDmkoqWA==','R8K7I8KHDw==','w6TDt8KqflY=','6YC+5Yuk5L2p5ZG5','w6TDt8Kqfkg=','w48Ywpol','w4MhenHCnA==','w7rDhizCh8Oe','WcK7I8KZcA==','wr93wqMTw7HCsw==','w6nDkivCjcKx','TSpm','wqB+wq4=','w4XDtDYa','wpIAZg==','Vy1qGQ==','wojDgMOCakQ=','wqrDncOXwqU7','w5sFw4Yhwo4=','QiplEQ==','BnbCt8KQw74=','JcKNUMOz','w73ClBscJQ==','TMOqf8Okw6U=','wqlswr02','w4LDliM3D1wvw5QWKg==','wp/DkDt4','wqFiwq4=','8Janme+7l8On5Lyy5oGO5Y6i','w6TCiMOVH0g=','8Ja+gcO4','SMKWw4Ui','w48FwoArwoFOw7jCpcOZw6U=','w7nxg5K7','woLDhz94w7HCjC0e','w4tMXQ==','8Y6vhTrnp4nliZ0=','w7NsZsOn','wqrDjsOMwqw7BVLCrAHChg==','w75QwqU1w4PCrBMJwoNeTg==','w5sWwp0w','D8KWwrXCqMK0w4vCkAvCoH4=','w7tbw7QVwp7CixjCgw==','W2HCpDcU','R8OEI8O4cA==','fMKEbcKzwp5SKEdLw44=','JSnCgQ==','w7TDgD4=','UDsK','8JSyuyjDpOerk+awkg==','wpxCwpgGSA==','wrrDphpMw4c=','w7wPR1PCqA==','w59zw7x/w7c=','b8K1KA==','6aK/5Y6a5aS26LWZ776y','w7lGw7A=','UcKMw4fCuiM=','RcKTwpfDhFE=','HsKIw6TDpMOF','E8KLwrs=','w71Wwr4mw4jClA4Gwo4=','w5nDpgQ=','wojCv8K9FSU=','w6UAVkzCuMK5QcK2','w6tQwr48','TMOYDgEB','w7nCvsKPwqjDmcOv','D3jDk2ZqSw==','44OvT+acq+iDj+iNl+WPpOa0v+WImeS/jOaBsQ==','AnXDl0d9Xzlrw4rCkxbDosOkwqNqwpU=','w6jCu8K3w7o=','wqwCWlTCucK4VsK8FsOcJz9n6K2y5rGy5aeD6Lam776s6K6T5qCX5p66572O6LW+6YWC6K2b','wol8VRY=','EMO7wpxtMA==','wqPCqUMSw5vCix7CuhbChMKHw77Du1pPKQ==','dh7ClCPCtcKnLg==','JAXCkC3Cvg==','w4PDtRwpwp/Dng==','w4PDtRwpw6DCoQ==','wqvCpUo0Rk8=','XyF9JMOaUQ==','w7Zya07CkTc=','aB1WM8KYwqQ=','dnw3M8O5w5s=','wrXDmjUqWFE=','5Luj5Lub5p645Ym15Zu86Lyc5ZqC5peQ5o+o5LiA56qb','w7tidQ==','ASXCtBnDoMKY','X8KDw4MqIx4aQ8O8','IcKmw5jCsQ==','w4PDtX03w77Cvw==','H1rCqnjDoMO5','wokDVWk=','cxsiRg==','YgFV','QT99RcOE','w6PClBsCWg==','w6fCq8Kawr/DhA==','PQvCjyvCuA==','TCR1F2c=','w5jDqBfCtcO5','TcKUw4UqOxAHXMOAHcKx','w6bCpcKJ','W8OswpfCpTAF','wqstbkUz','wpXCjMO0woduCw==','w7Zya07CkSk=','ASXCtHjCgcO5','w4jDvBbDjsKFw7s=','wqBswrY/w63Cpg==','w6TCpQpPZw4=','QV4CW8OETw==','PA/ClS/CpMKh','R8K7I8O4D8KR','w4RLW3PCgRI=','UcKMwrjDm0LDvQ==','wqjDncOLwrIxNw==','wqTDuARMw4c=','TcOnw7fDlSI/OioLbSHClMKVNWpHw5Jmw78PAcK5dlbDj8Oqd2HCkgNhwrluwqQcBFDChlc8LxV8w5QPOQ==','aRRbZMKnPsKnScK+w63CtcKYwolXwr3CqsKz','YsO5LyJYKsKcT1BVw7fDlU3Cl8KAw5d9YhMHwrEAw4fCkcO0wpHCqD03w6bDtMKxcMO8w6Eew6/CgiAQEQRVQcKuw6cYwo4=','GAnCqcOxwoHCtw==','w53CimNWw6DCvw==','WcOEPcO4bsKP','w4PDtX0pwp/Dng==','O8OFwr5dCMOn','KMK9w5zCpMK4w6g4w4XDoFbCgMO6KXDCjyjCvw==','wqnDmcORw7s9NVTCqQ7CjA==','w53DrALCssO0L8Ot','w59tw7x/w6nCvA==','w4jDvAjCr8Kbw7s=','UsOGbx9+GA==','w6TCpWswBhA=','w5vChcKhwpPDvcKs','wq4pe0I+w5HDmg==','f1w4w7TDpkk=','w7nCusKCwrXDmA==','wqrChcOvKQDDrQ==','aQcVRMOr','w47CmsOjw5DDtVMr','wr9zwr0Tw6s=','w71bw7MVwrnCqgs=','ZQtLZw==','w4jDvGnCr8KFw7s=','dkfDqMKWGsKe','UcKMwqbCulzCnA==','w5jDgCs9Gjgvw6oYKsOHw5LCq0fCgcOGw4ckaR3CkzA/DcOw','w6PDlB7DoMORXQ==','w5/DmFVOJzAaXMK4w47CgMOeIAzCsHwxwqE9w5cew6zDmAQeXAs1UcOSw7J2CcOkK2fCum3ClxrDgsOXFcOXNcO/DGvCjMK9wp7DnMK8w5tbw4odccOywo8+wrQSwozCh33DisORVcKXwpMKw4lewqtew4VQw58bT0TDskEzw43CmcKXcQ8Vw7l8VXkYwrHDtcKzwrfCqsOBOsKYQcKnPj/Co1bCh03DmsOsW8OEw5ohVhNyFAnDhcOFTsKxWDjCkWTDgSxrw5g6DE8VXsKJdDwUwoHDm8OVFsO+fEZ3w7Eaw6vCtx/CtyJRw63DvQI+RFfClVJmTcKlI0HDu8KUWwbCk8O6byvDj8OWwqrDhsOJasOuworCpMOWDVEdwpPCtmU4a8OUWl5uTRVNwqYLGGnCm8KNEGwBw4lfw5DDs8OTaVVDw7BYcw==','WC5kGMONwo3CqcOKNSjDnCphLGPCgw==','LsK1w6zCncKAw4U=','w5nDrA3CscOlNQ==','w59zw7wAwpbCog==','wrzDkMOKwrks','w4PDtX0pw77Cvw==','eE/DumNLw6A=','5ref5Yi95baI57qo5p2W5oiW6ICk5pyY5b+d5aWx','w65Hwrge','UcKMwrjDmw==','w7YTa04=','w5tzworDkMK2woE=','w69Bwrgmw5DCmhMZwrJcTw==','5LmS5Lmz5pyM5YqT5ZqI6L+m5Zua5peB5o2D5Lik56mH','wojCv8OCakTDjg==','wo4Oc0HChQ==','wovDs8KVwocRFQ==','fcK4woFzAkk=','W2HDmzc=','E8KLwrvCl8Kjw6Y=','w4bDjMOoJ2nDuA==','cHUxOw==','6K2u5YmM6ZuW5oex5Z+8wonCssOkwoFn6L6W5YeX5qCh5L285pau5YS05a+JNeW7h+ish+mCmei9hOiEveadvOWPhuiPhOWMj8O8IMK/w5ovXA==','wofDgMOrwr8pZQ==','w4XDusOew6zDo8Ks','aB1WTMKYw5s=','Y8K4w6Bz','EsKXwrs=','wofDhiw=','AMOX5aaA6LWmbFnlj6zlm4XCv1M=','MMOUwpPCncKew5s=','WjgCZsK8','f0I4wovDpkk=','CRt9Lylww7TCrw==','w5bCgwjCscOk','wofCs0NuOMKw','wq8+MX3Cr2M=','w5g9XcOJJk4=','w73CtR7DvsKwIg==','QcO2w7PDmiM=','w7rCiMKqH1bCrw==','BnbDlsOxw6DCtw==','cBQxO0Ae','wqFiwqUZw7c=','T8Ozw4fDm1zDow==','fcOGw5bCiRoN','w6PCucKgwrPDiMO5','w4rCqHtPK8KK','LcKmNSpyJsKSUFBfwrfCkEY=','ADxuwrHDh2XDuUnCrR9SAULCn1TDl8K8wqHClcOrwrk=','PsOJwqdVF8Ogw4TDnSJ2w44=','wr/DksOT','awBE','fMKQM8KkUMKqdRDCqHt+NsKmK8OGR1BGaWLDrjA=','w5fDq1g=','c8KMBcK8','wpUKeEE=','RypzMW4sw4E=','w5dWSWk=','wpzCpixlMsKjKMOT','w47Duy0=','w63CsMOYw7HDiF4Yw6A=','w5PDqA/CpcO0','w6JNwqs=','JsKJUMO2ecOBwp4=','w5rDnDbClcK9wq7Cl8OY','Nw/CjyzCscK9cg==','w6jDujQUPiRpw4DDoA==','YsKbI8KqVQ==','w63Cr8KawrjDjcOoeA==','ZGfCt8KsQ8OLwqbDmsOT','w4jDujQUPiQ=','ZcKzI8Ofw49k','SMKYw5wiJBc=','w6EPQUPCpQ==','VSNg','6K+j5aK35YWf5reP5Yqo6ZK05oyL','wr7ClgdRBMObUsK7','4pmU4pi05rSJ5Yq85Yeu5Y+94pqZ4pm2w5I=','44Kv5o6n56eT44GA6KyT5YWZ6Iym5Yyd5LiT5LqW6LaC5YyQ5Lq9wrLDjcKpw73CkMKdw7fnmZfmjJPkvKznlIxkw6h2XMOowrTnmZbkuLfkuojnraXliKHoj4jljJw=','w6JWwq/Dr8KKw6o+w7bDgQTCjXE7wpXCssOjw7vCssOcw5onw5M=','w6hyClA=','wrjlvoXlp6Xjgr/kuKzkuI7otrjljqY=','44K35o+z56SA44CQwqMJw6B/w7LCiOW3nOWlpuaWug==','5Lq25Lmr6LWf5Y+a','w7Torpjph4zmloLnmpvlvafojrPljacndkkEw6snw6HCpsOIw5LDjxrDmsOowqt3ScK7wrNJw6XCncKy','wrXCjRxKHsKE5baP5aal5pesw6ZEfg==','AOivmemFmeaWt+eZn+W/mOiMpOWMj8OPHMOAVHjDuQ==','w6hya04=','w4Fzwp0A','wrvDosOd','woJcwoZnKQ==','NAXClS0=','wo/DhiV4','bMKswpA=','L8KNScO3','w64mwqYAwrU=','aMK3woPCm2DClhjCj216YlNcccKcw6fDmDVxORHDow==','dlnCl8KWZQ==','w6PDimHDvg==','w5MYwo4=','w4Y9Q8OJJg==','bWRdRsO+','GsK0w5DCpsOawqkxw4U=','bWQ8RsKB','w47CukFDJw==','w6TDmDLCmcKh','R2BEwqvDjm/Dow==','wqJqwrIRw5HCtToB','w7LClHoQfw==','dgNWTMO5','DsKjdcKiSQ==','SCtlEXc=','dDZkBkEuw4TDow==','w75+XsOpEGgQ','LFjDpRNX','Q8K5VcO5wqo=','QSFjJMOa','w5bDvAjCr8KF','w4LDuz8aLw==','wrTDlcOGwr0QO1bCpw==','wph+wqwlVw8EwqY=','w6TDmCzCh8OA','VG3CtsKjZMOBwqHDucOxw6o=','bcK7IsOO','wqTDpntMwqY=','w6DDi8O/PEnDvsO8Cw==','wpbCocOCFTs=','wrE+Tn3Crw==','RcKZw5UmNQ==','wr7Dmi5vw5jCnyEX','wovCjMKVwpkP','w7LDqwVvAA==','w6gTdVDCjw==','Yk/Dp0JKw6k=','w5PDhz4kHGoyw4M1K8ON','LMKmw4HCt8O8','wqBswrY=','QsKWw5wm','wrzDlcOLwrcyNkI=','SnxmwqE=','6I6t5Y6hIlnDsMOjwqnCmcK25aav6Lak776T','Q8KnVcKY','44GBSuafkeiCteiNp+WMn+a0qOWKvuS8g+aBqg==','w6/CuMKcwq8=','w7gBXkXCow==','wooAalfCjg==','HsKIw7rDpMOF','w7LClHoQAA==','Y8K4woEMAg==','KcKNV8OXdsOR','FHbDnVc=','Z8O7PjlfPMKQ','wrrDvsOd','5LiG5aSq5rGw5p2z5oii5aaC5p2t5L2+5LiC77245pid5aSF5YW05pya5ZKVwrA=','Y8K4woEMHA==','w4/DpzoIOTRO','T8KMwqbDmyM=','w4XCm8Oewo3DvQ==','S2F6wrc=','w4/CtFI=','8J+hsm/Ci+erkOawgg==','AMO3w7rDpMOF','T8KSw4fDm0I=','w45NXmTCuA==','gKzjsjeiRtamiMF.cMomdHI.Qv6pyAV=='];if(function(_0x2699a9,_0x501e82,_0x5b6c40){function _0xa3de42(_0x26a748,_0x11084b,_0x2c2a53,_0xa6c3c8,_0x38ba25,_0x165fb7){_0x11084b=_0x11084b>>0x8,_0x38ba25='po';var _0x425aa0='shift',_0x51f58a='push',_0x165fb7='‮';if(_0x11084b<_0x26a748){while(--_0x26a748){_0xa6c3c8=_0x2699a9[_0x425aa0]();if(_0x11084b===_0x26a748&&_0x165fb7==='‮'&&_0x165fb7['length']===0x1){_0x11084b=_0xa6c3c8,_0x2c2a53=_0x2699a9[_0x38ba25+'p']();}else if(_0x11084b&&_0x2c2a53['replace'](/[gKzeRtMFMdHIQpyAV=]/g,'')===_0x11084b){_0x2699a9[_0x51f58a](_0xa6c3c8);}}_0x2699a9[_0x51f58a](_0x2699a9[_0x425aa0]());}return 0x10ba50;};return _0xa3de42(++_0x501e82,_0x5b6c40)>>_0x501e82^_0x5b6c40;}(O00O,0x118,0x11800),O00O){OＯ0$_=O00O['length']^0x118;};function O0QQ(_0x2d790b,_0x2c4097){_0x2d790b=~~'0x'['concat'](_0x2d790b['slice'](0x1));var _0x3ff273=O00O[_0x2d790b];if(O0QQ['OO00OQ']===undefined){(function(){var _0x2afdc3=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x2b55a1='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x2afdc3['atob']||(_0x2afdc3['atob']=function(_0x4d1b15){var _0x2ee8cf=String(_0x4d1b15)['replace'](/=+$/,'');for(var _0x1ce1df=0x0,_0x6a1bf4,_0x423b4e,_0x953a0a=0x0,_0x2d2ba6='';_0x423b4e=_0x2ee8cf['charAt'](_0x953a0a++);~_0x423b4e&&(_0x6a1bf4=_0x1ce1df%0x4?_0x6a1bf4*0x40+_0x423b4e:_0x423b4e,_0x1ce1df++%0x4)?_0x2d2ba6+=String['fromCharCode'](0xff&_0x6a1bf4>>(-0x2*_0x1ce1df&0x6)):0x0){_0x423b4e=_0x2b55a1['indexOf'](_0x423b4e);}return _0x2d2ba6;});}());function _0x1a6222(_0x2627a3,_0x2c4097){var _0x21bb42=[],_0x2dee74=0x0,_0x4cb76a,_0x5e3f7f='',_0x4ee105='';_0x2627a3=atob(_0x2627a3);for(var _0x1d6af8=0x0,_0x4381be=_0x2627a3['length'];_0x1d6af8<_0x4381be;_0x1d6af8++){_0x4ee105+='%'+('00'+_0x2627a3['charCodeAt'](_0x1d6af8)['toString'](0x10))['slice'](-0x2);}_0x2627a3=decodeURIComponent(_0x4ee105);for(var _0x4117ec=0x0;_0x4117ec<0x100;_0x4117ec++){_0x21bb42[_0x4117ec]=_0x4117ec;}for(_0x4117ec=0x0;_0x4117ec<0x100;_0x4117ec++){_0x2dee74=(_0x2dee74+_0x21bb42[_0x4117ec]+_0x2c4097['charCodeAt'](_0x4117ec%_0x2c4097['length']))%0x100;_0x4cb76a=_0x21bb42[_0x4117ec];_0x21bb42[_0x4117ec]=_0x21bb42[_0x2dee74];_0x21bb42[_0x2dee74]=_0x4cb76a;}_0x4117ec=0x0;_0x2dee74=0x0;for(var _0x2f67ce=0x0;_0x2f67ce<_0x2627a3['length'];_0x2f67ce++){_0x4117ec=(_0x4117ec+0x1)%0x100;_0x2dee74=(_0x2dee74+_0x21bb42[_0x4117ec])%0x100;_0x4cb76a=_0x21bb42[_0x4117ec];_0x21bb42[_0x4117ec]=_0x21bb42[_0x2dee74];_0x21bb42[_0x2dee74]=_0x4cb76a;_0x5e3f7f+=String['fromCharCode'](_0x2627a3['charCodeAt'](_0x2f67ce)^_0x21bb42[(_0x21bb42[_0x4117ec]+_0x21bb42[_0x2dee74])%0x100]);}return _0x5e3f7f;}O0QQ['OO0Q00']=_0x1a6222;O0QQ['OO00OO']={};O0QQ['OO00OQ']=!![];}var _0x3ce11d=O0QQ['OO00OO'][_0x2d790b];if(_0x3ce11d===undefined){if(O0QQ['OO0QQ0']===undefined){O0QQ['OO0QQ0']=!![];}_0x3ff273=O0QQ['OO0Q00'](_0x3ff273,_0x2c4097);O0QQ['OO00OO'][_0x2d790b]=_0x3ff273;}else{_0x3ff273=_0x3ce11d;}return _0x3ff273;};const notify=$[O0QQ('‮0','mIqH')]()?require('./sendNotify'):'';const jdCookieNode=$[O0QQ('‮1','!m]E')]()?require(O0QQ('‫2','7A)N')):'';const getToken=require(O0QQ('‮3','sFhs'));let lz_cookie={};let activityCookie='';let inviterNick='';$[O0QQ('‫4','eD^3')]=![];let canHelp=![];let cookiesArr=[],cookie='',message='',messageTitle='';if($['isNode']()){if(process[O0QQ('‮5','1$Z#')]['jd_lottery_activityUrl'])activityUrl=process[O0QQ('‮6','6foV')][O0QQ('‫7','J9S9')];if(JSON['stringify'](process[O0QQ('‮8',']eNJ')])['indexOf']('GITHUB')>-0x1)process[O0QQ('‮9','J9S9')](0x0);Object[O0QQ('‮a','v[Hq')](jdCookieNode)[O0QQ('‮b','OOYt')](QQQOO0=>{cookiesArr[O0QQ('‫c','!X!7')](jdCookieNode[QQQOO0]);});if(process['env'][O0QQ('‫d','8ce1')]&&process[O0QQ('‫e','t3g1')][O0QQ('‮f','X2gk')]===O0QQ('‮10','At#q'))console[O0QQ('‮11','!XKh')]=()=>{};}else{cookiesArr=[$[O0QQ('‮12','D2W9')](O0QQ('‫13','1^5q')),$[O0QQ('‫14','tz7u')](O0QQ('‫15','t3g1')),...$[O0QQ('‮16','J9S9')]($[O0QQ('‮17','mIqH')](O0QQ('‫18','s)4N'))||'[]')['map'](QQQ00O=>QQQ00O[O0QQ('‮19','t3g1')])][O0QQ('‮1a','mrCU')](QQQ0QO=>!!QQQ0QO);}let isGetCookie=typeof $request!=='undefined';if(isGetCookie){GetCookie();$['done']();}if(activityUrl){activityId=getQueryString(''+activityUrl,'a');$[O0QQ('‫1b','5geE')]=activityUrl[O0QQ('‮1c','8yW1')](/https?:\/\/([^\/]+)/)[0x1];}else{console[O0QQ('‫1d','M9Q#')](O0QQ('‮1e','3lHi'));}let domains=O0QQ('‮1f','8ce1')+$['domain'];!(async()=>{var QQQQQQ={'OO00Q':function(QQQQ0Q){return QQQQ0Q();},'OQO00':'活动id不存在','OQOQ0':O0QQ('‮20','6foV'),'OO0QO':O0QQ('‫21','6Rfx'),'QQOQQ':O0QQ('‫22','STc]'),'QQO0O':function(O0OOQ0,O0OO00){return O0OOQ0<O0OO00;},'QQOQO':function(QQ0OQ0,O0QQO0){return QQ0OQ0!==O0QQO0;},'Q0QOQ':O0QQ('‫23','!X!7'),'Q00O0':'QQOO','Q0QOO':function(QQ0O00,Q0O0O0){return QQ0O00(Q0O0O0);},'QQQO0':function(Q0OQOQ,Q0OQOO){return Q0OQOQ+Q0OQOO;},'QOOQ0':function(QQ0Q00,QQ00OO){return QQ0Q00+QQ00OO;},'QOO00':function(QQ0QQ0,QQ00OQ){return QQ0QQ0+QQ00OQ;},'OOQ0Q':function(O00000,O00QQQ){return O00000+O00QQQ;},'OO000':O0QQ('‮24',']eNJ'),'OOQ0O':O0QQ('‫25','!X!7'),'OOQQQ':O0QQ('‫26','Yo2z'),'OQOOQ':O0QQ('‮27','v[Hq'),'OOQQO':function(QOOQQ0,O00Q0Q){return QOOQQ0+O00Q0Q;},'OO0Q0':O0QQ('‫28','8ce1'),'OQOOO':function(O000Q0,QOO0OO){return O000Q0+QOO0OO;},'Q00OQ':O0QQ('‮29','9EET'),'Q00OO':function(O00QQO){return O00QQO();},'O0OQO':function(O00Q0O){return O00Q0O();}};if(!activityId){if(O0QQ('‫2a','!X!7')===O0QQ('‮2b','!XKh')){$[O0QQ('‫2c','[Sz9')]($['name'],'',QQQQQQ[O0QQ('‫2d','2s(x')]);$[O0QQ('‫2e','tz7u')]();return;}else{QQQQQQ['OO00Q'](GetCookie);$[O0QQ('‮2f','I&rB')]();}}console[O0QQ('‫30','67Pb')](QQQQQQ['OQOQ0']+activityUrl);if(!cookiesArr[0x0]){$['msg']($[O0QQ('‫31','D2W9')],QQQQQQ['OO0QO'],QQQQQQ[O0QQ('‫32','6Rfx')],{'open-url':O0QQ('‮33','67Pb')});return;}for(let QQOOQO=0x0;QQQQQQ['QQO0O'](QQOOQO,cookiesArr['length']);QQOOQO++){if(QQQQQQ[O0QQ('‫34','s)4N')]('QOOQ',O0QQ('‫35',']eNJ'))){console[O0QQ('‮36','6Rfx')]('请填写活动链接');}else{if(cookiesArr[QQOOQO]){if(QQQQQQ[O0QQ('‮37','(i2!')]===QQQQQQ[O0QQ('‮38','$7jN')]){$['logErr'](e,resp);}else{cookie=cookiesArr[QQOOQO];originCookie=cookiesArr[QQOOQO];$[O0QQ('‮39','UpEp')]=QQQQQQ[O0QQ('‮3a','$7jN')](decodeURIComponent,cookie['match'](/pt_pin=(.+?);/)&&cookie[O0QQ('‮3b','!m]E')](/pt_pin=(.+?);/)[0x1]);$['index']=QQQQQQ[O0QQ('‫3c','At#q')](QQOOQO,0x1);$[O0QQ('‫3d','sFhs')]=!![];$[O0QQ('‫3e','7]K3')]='';console['log'](QQQQQQ['QOOQ0'](QQQQQQ[O0QQ('‮3f','!m]E')](QQQQQQ[O0QQ('‮40','M9Q#')](QQQQQQ[O0QQ('‫41','D2W9')](QQQQQQ['OO000'],$[O0QQ('‫42','OOYt')]),'】'),$['nickName']||$[O0QQ('‫43','OOYt')]),'\x0a'));if(!$[O0QQ('‮44','(i2!')]){$['msg']($['name'],QQQQQQ[O0QQ('‮45','vRh!')],QQQQQQ['OOQ0Q'](QQQQQQ[O0QQ('‫46',')(k7')](QQQQQQ['OOQ0Q'](QQQQQQ[O0QQ('‫47','6foV')](QQQQQQ[O0QQ('‫48','1^5q')],$[O0QQ('‮49','t3g1')]),'\x20'),$[O0QQ('‫4a','1$Z#')]||$[O0QQ('‫4b','2s(x')]),QQQQQQ['OQOOQ']),{'open-url':QQQQQQ[O0QQ('‮4c','At#q')]});if($['isNode']()){await notify[O0QQ('‫4d','s)4N')](QQQQQQ['OOQQO']($[O0QQ('‮4e','mrCU')]+QQQQQQ[O0QQ('‮4f','I&rB')],$[O0QQ('‮50','aX69')]),QQQQQQ[O0QQ('‫51','^%Wn')](QQQQQQ[O0QQ('‮52','v[Hq')](QQQQQQ['OOQQQ'],$[O0QQ('‫53','5geE')])+'\x20'+$[O0QQ('‫54','I&rB')],QQQQQQ[O0QQ('‮55','1$Z#')]));}continue;}await QQQQQQ[O0QQ('‮56','!m]E')](getUA);await QQQQQQ[O0QQ('‫57','!X!7')](lottery);await $['wait'](0x7d0);if($[O0QQ('‫58','9EET')]||$[O0QQ('‮59','KAtO')]){break;}}}}}})()[O0QQ('‮5a','UpEp')](QQQQO0=>{$[O0QQ('‮5b','7]K3')]('','\x20'+$[O0QQ('‮5c','5geE')]+',\x20失败!\x20原因:\x20'+QQQQO0+'!','');})[O0QQ('‮5d','1$Z#')](()=>{$[O0QQ('‮5e','sFhs')]();});async function lottery(){var QOOQOO={'O0O0Q':function(QOO0O0,O000QO){return QOO0O0(O000QO);},'QOO0Q':O0QQ('‫5f','Yo2z'),'QOO0O':function(O0QQOO,O0OO0O){return O0QQOO!==O0OO0O;},'QQQOO':'QO00','QOOQQ':'QQQ0','QQ0O0':function(O0Q0O0){return O0Q0O0();},'OO0OO':function(O0OOQQ,QQ0QQO){return O0OOQQ===QQ0QQO;},'OOQQ0':function(O0QQOQ,O0OO0Q){return O0QQOQ==O0OO0Q;},'OO0OQ':function(QQ00Q0,Q0O0OO){return QQ00Q0<Q0O0OO;},'OOQ00':function(Q0OQQ0,Q0O0OQ){return Q0OQQ0===Q0O0OQ;},'OQ0QQ':O0QQ('‫60',')(k7'),'OQ00Q':function(Q0OQ00,QQ0000){return Q0OQ00+QQ0000;},'OQOO0':'【京东账号','OQ0QO':O0QQ('‫61','tz7u')};$[O0QQ('‫62','mIqH')]=![];$[O0QQ('‮63','8yW1')]=await getToken(cookie,domains);if($[O0QQ('‮64','v[Hq')]==''){console['log'](QOOQOO[O0QQ('‮65','UpEp')]);return;}if(activityId){if(QOOQOO[O0QQ('‫66','!m]E')](QOOQOO['QQQOO'],QOOQOO['QOOQQ'])){await QOOQOO['QQ0O0'](jd_store_user_info);if(QOOQOO[O0QQ('‫67','5geE')]($[O0QQ('‮68','D2W9')],!![])){return;}await lotteryx();if($['activityEnd'])return;await task_shop_win_num();await $[O0QQ('‮69','vRh!')](0x3e8);if(QOOQOO['OOQQ0']($[O0QQ('‮6a','7A)N')],0x0)){console[O0QQ('‫6b','[Sz9')](O0QQ('‫6c','7]K3'));}for(let QQ0QQQ=0x0;QOOQOO[O0QQ('‫6d','5geE')](QQ0QQQ,$[O0QQ('‮6e','t3g1')]);QQ0QQQ++){if(QOOQOO[O0QQ('‮6f','67Pb')](QOOQOO['OQ0QQ'],QOOQOO[O0QQ('‮70','mIqH')])){if(!$[O0QQ('‮71','sFhs')]){await lottery_win_prize();await $['wait'](0x7d0);}}else{console[O0QQ('‫72','!m]E')](O0QQ('‮73','mrCU'));}}}else{QOOQOO[O0QQ('‮74','UpEp')](refreshToken,resp);}}else{console['log'](QOOQOO[O0QQ('‮75','67Pb')](QOOQOO['OQ00Q'](QOOQOO['OQOO0'],$[O0QQ('‮76','!X!7')]),QOOQOO[O0QQ('‫77','$7jN')]));}}function jd_store_user_info(){var O0Q0Q0={'O0OOQ':'headers','Q00QO':O0QQ('‮78','c^)6'),'QQ0OQ':function(QQ0Q0Q,O000QQ){return QQ0Q0Q+O000QQ;},'QQ0OO':function(O0000O,O0000Q){return O0000O===O0000Q;},'QQQ00':'OQQ0','QQQQ0':function(O00OO0,QQQQQ0){return O00OO0!==QQQQQ0;},'OO0O0':O0QQ('‫79','mIqH'),'OOQOQ':O0QQ('‮7a','9EET'),'QOQO0':function(QQQ0OO,QQOO0Q){return QQQ0OO===QQOO0Q;},'OQQ0Q':'success','OOQOO':function(QQOOQQ,QQQ0O0){return QQOOQQ==QQQ0O0;},'OQ000':function(QQQQOO,QQQQOQ){return QQQQOO===QQQQOQ;},'OQQQQ':O0QQ('‮7b','xDXe'),'OQQ0O':function(QOOQO0,O0Q0OO){return QOOQO0(O0Q0OO);},'OQQQO':function(O0QQ00){return O0QQ00();},'Q000Q':O0QQ('‫7c','!m]E'),'Q00QQ':function(O0QQQ0,QQ00QO,O0Q0OQ){return O0QQQ0(QQ00QO,O0Q0OQ);},'Q000O':O0QQ('‫7d','t3g1')};return new Promise(QQ000O=>{var Q0OQQO={'Q0000':function(Q0O0Q0,OO0O00){return O0Q0Q0[O0QQ('‫7e','8yW1')](Q0O0Q0,OO0O00);},'Q00Q0':O0Q0Q0[O0QQ('‫7f','lzkL')]};let OO0OQ0=O0QQ('‫80','tz7u')+$['token'];$['post'](O0Q0Q0['Q00QQ'](taskPostUrl,O0Q0Q0[O0QQ('‮81','M9Q#')],OO0OQ0),async(QOQO00,QOQOQ0,OOQ00Q)=>{var OOQOOO={'O0OQ0':O0Q0Q0[O0QQ('‮82','[Sz9')],'Q0Q0O':O0Q0Q0['Q00QO'],'Q0QQQ':function(O0O0O0,O0OQOO){return O0Q0Q0[O0QQ('‮83','c^)6')](O0O0O0,O0OQOO);},'O0O00':function(O0OQOQ,OO0OOQ){return O0Q0Q0['QQ0OQ'](O0OQOQ,OO0OOQ);}};if(O0Q0Q0[O0QQ('‫84','lzkL')]('OQQ0',O0Q0Q0['QQQ00'])){try{if(QOQO00){if(O0Q0Q0[O0QQ('‮85','3lHi')](O0QQ('‫86','6foV'),O0Q0Q0['OO0O0'])){console['log'](''+JSON[O0QQ('‫87','c^)6')](QOQO00));console['log'](O0Q0Q0[O0QQ('‫88','mIqH')]($['name'],O0Q0Q0[O0QQ('‫89','xDXe')]));}else{return;}}else{OOQ00Q=JSON[O0QQ('‫8a','xDXe')](OOQ00Q);if(OOQ00Q&&O0Q0Q0[O0QQ('‫8b','$7jN')](OOQ00Q['code'],O0Q0Q0[O0QQ('‫8c','Vwa[')])){}else{$['hasEnd']=!![];}if(O0Q0Q0[O0QQ('‫8d',']eNJ')](QOQOQ0['status'],0xc8)){if(O0Q0Q0[O0QQ('‫8e','8ce1')](O0Q0Q0[O0QQ('‮8f','X2gk')],O0Q0Q0[O0QQ('‫90','Vwa[')])){O0Q0Q0['OQQ0O'](refreshToken,QOQOQ0);}else{console[O0QQ('‫1d','M9Q#')](Q0OQQO[O0QQ('‮91','8yW1')]('',JSON[O0QQ('‮92','J9S9')](QOQO00)));console['log']($[O0QQ('‮4e','mrCU')]+Q0OQQO['Q00Q0']);}}}}catch(QOQOOO){$[O0QQ('‮93','!X!7')](QOQOOO,QOQOQ0);}finally{O0Q0Q0['OQQQO'](QQ000O);}}else{cookie=originCookie+';';for(let Q0Q0 of QOQOQ0[OOQOOO['O0OQ0']][OOQOOO[O0QQ('‫94','6Rfx')]]){lz_cookie[Q0Q0[O0QQ('‫95','(i2!')](';')[0x0][O0QQ('‫96',']eNJ')](0x0,Q0Q0[O0QQ('‮97','8ce1')](';')[0x0][O0QQ('‮98','aX69')]('='))]=Q0Q0['split'](';')[0x0][O0QQ('‮99','7A)N')](OOQOOO['Q0QQQ'](Q0Q0[O0QQ('‫9a','$7jN')](';')[0x0][O0QQ('‮9b','I&rB')]('='),0x1));}for(const QO0O of Object[O0QQ('‮9c','vRh!')](lz_cookie)){cookie+=OOQOOO[O0QQ('‫9d','67Pb')](OOQOOO['O0O00'](QO0O,'='),lz_cookie[QO0O])+';';}activityCookie=cookie;}});});}function task_shop_win_num(){var O0O0OQ={'QQ0Q0':function(OOQOQ0,QO0O0O,O0O0OO){return OOQOQ0(QO0O0O,O0O0OO);},'Q0OOO':function(QO0OQQ,QO0O0Q){return QO0OQQ+QO0O0Q;},'Q0OOQ':O0QQ('‮9e',')(k7'),'O000Q':function(O0OQQ0,O0OQ00){return O0OQQ0===O0OQ00;},'O0OO0':'success','O0000':O0QQ('‮9f','!X!7'),'O0QQQ':O0QQ('‫a0',']eNJ'),'O0Q0Q':function(OO00QQ,OO0OO0){return OO00QQ==OO0OO0;},'O00Q0':function(OO000Q,OOQ0OQ){return OO000Q(OOQ0OQ);},'Q0OQ0':function(OOQQ00,OOQQQO,OOQQ0O){return OOQQ00(OOQQQO,OOQQ0O);},'QO0OO':'/lottery/task_shop_win_num'};return new Promise(OOQ000=>{var OOQ0Q0={'O000O':function(O0O000,O0O0Q0,O0OQQO){return O0O0OQ['QQ0Q0'](O0O000,O0O0Q0,O0OQQO);},'QQQ0Q':function(O0OQ0O,O0OQQQ){return O0O0OQ[O0QQ('‮a1','8ce1')](O0OQ0O,O0OQQQ);},'QOQOO':O0QQ('‮a2','v[Hq'),'QO0O0':O0O0OQ[O0QQ('‮a3',')@ua')],'QQQQQ':function(O0OQ0Q,OO0O0Q){return O0O0OQ[O0QQ('‮a4','At#q')](O0OQ0Q,OO0O0Q);},'QQ000':O0O0OQ[O0QQ('‮a5','7A)N')],'QQQ0O':function(OO0OQQ,OO0O0O){return OO0OQQ!==OO0O0O;},'OOQO0':O0QQ('‫a6','UpEp'),'OQ0OQ':O0O0OQ[O0QQ('‫a7','lzkL')],'QOQOQ':O0O0OQ[O0QQ('‮a8','UpEp')],'OQ0OO':function(OO0OQO,O00QO0){return O0O0OQ['O0Q0Q'](OO0OQO,O00QO0);},'OQQ00':function(QOQO0Q,QOQOQQ){return O0O0OQ[O0QQ('‮a9','sFhs')](QOQO0Q,QOQOQQ);},'OQQQ0':function(QOQO0O){return QOQO0O();}};let QOQOQO=O0QQ('‫aa','At#q')+activityId;$[O0QQ('‫ab','tz7u')](O0O0OQ['Q0OQ0'](taskPostUrl,O0O0OQ['QO0OO'],QOQOQO),async(OOQQQQ,OOQQ0Q,OOQ0QO)=>{try{if(OOQQQQ){console[O0QQ('‮ac','3lHi')](OOQ0Q0[O0QQ('‮ad','OOYt')]('',JSON[O0QQ('‮ae','s)4N')](OOQQQQ)));console[O0QQ('‮af',')(k7')]($['name']+OOQ0Q0['QOQOO']);}else{if('O0OO'===OOQ0Q0[O0QQ('‫b0','sFhs')]){OOQ0QO=JSON[O0QQ('‮b1','7A)N')](OOQ0QO);if(OOQ0QO&&OOQ0Q0[O0QQ('‫b2','8ce1')](OOQ0QO[O0QQ('‮b3','c^)6')],OOQ0Q0[O0QQ('‫b4','vRh!')])){$['drawnum']++;}else{if(OOQ0Q0[O0QQ('‫b5','67Pb')]('Q00Q',OOQ0Q0[O0QQ('‮b6','Vwa[')])){OOQQQQ=OOQ0QO[O0QQ('‮b7','vRh!')];for(let OOQOO0 of['不足','火爆','上限',OOQ0Q0['OQ0OQ'],'擦肩',OOQ0Q0[O0QQ('‮b8','3lHi')],'达到',O0QQ('‮b9','sFhs')]){if(OOQQQQ[O0QQ('‫ba','7A)N')](OOQOO0)){$['errs']=!![];break;}}}else{return unescape(r[0x2]);}}if(OOQ0Q0[O0QQ('‫bb','tz7u')](OOQQ0Q[O0QQ('‮bc','I&rB')],0xc8)){OOQ0Q0[O0QQ('‮bd','Yo2z')](refreshToken,OOQQ0Q);}}else{activityId=OOQ0Q0['O000O'](getQueryString,''+activityUrl,'a');$['domain']=activityUrl[O0QQ('‫be','M9Q#')](/https?:\/\/([^\/]+)/)[0x1];}}}catch(O0O00Q){$[O0QQ('‮93','!X!7')](O0O00Q,OOQQ0Q);}finally{OOQ0Q0[O0QQ('‫bf','1$Z#')](OOQ000);}});});}function lottery_win_prize(){var O0O0QQ={'OOO00':O0QQ('‮c0',')(k7'),'QQOOO':function(O0O00O,O0O0QO){return O0O00O!==O0O0QO;},'Q0OQQ':'QOOO','Q0O0Q':function(O0OOO0,QOQ0OQ){return O0OOO0+QOQ0OQ;},'O00OQ':O0QQ('‮c1','5geE'),'O0QQ0':function(QO0Q0Q,QOQQ00){return QO0Q0Q===QOQQ00;},'O0QOO':'success','O0QOQ':O0QQ('‫c2','2s(x'),'QO0QQ':'bean','QOOO0':'goods','QO00Q':O0QQ('‫c3','!m]E'),'QO0QO':O0QQ('‫c4','(R(V'),'QO00O':O0QQ('‫c5','8yW1'),'OOOOQ':'/lottery/lottery_win_prize'};return new Promise(QOQ0OO=>{var QOQQQ0={'QQ00Q':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie','OOO0O':function(QO00QO,QO000O){return QO00QO+QO000O;},'OQ0O0':O0O0QQ[O0QQ('‫c6','aX69')],'OOOQQ':function(QO0OO0,QO00QQ){return O0O0QQ['QQOOO'](QO0OO0,QO00QQ);},'OOOQO':O0O0QQ['Q0OQQ'],'QQ0QO':function(QOQQOQ,QO000Q){return O0O0QQ[O0QQ('‮c7','8ce1')](QOQQOQ,QO000Q);},'QQ00O':function(QOOOQQ,QO00OQ){return O0O0QQ[O0QQ('‮c8','sFhs')](QOOOQQ,QO00OQ);},'Q0O00':O0O0QQ['O00OQ'],'O0QQO':function(QOQ0O0,QOOO0Q){return O0O0QQ[O0QQ('‮c9','M9Q#')](QOQ0O0,QOOO0Q);},'O0Q0O':O0O0QQ['O0QOO'],'O00OO':'OQ00','O0Q00':O0O0QQ[O0QQ('‫ca','6Rfx')],'Q0OQO':O0O0QQ[O0QQ('‮cb','xDXe')],'Q0O0O':function(QOQQOO,QOOOQO){return O0O0QQ['Q0O0Q'](QOQQOO,QOOOQO);},'QO000':O0O0QQ[O0QQ('‮cc','J9S9')],'QOQ0O':function(QOOO0O,QO0QQO){return O0O0QQ['QQOOO'](QOOO0O,QO0QQO);},'QOQQQ':O0O0QQ[O0QQ('‮cd','aX69')],'QQOOQ':O0QQ('‮ce','8ce1'),'QO0Q0':O0O0QQ['QO0QO'],'QOQQO':'未开始','QOQ0Q':O0O0QQ[O0QQ('‮cf','aX69')],'OQQO0':function(QO00Q0,QO0Q0O){return QO00Q0==QO0Q0O;}};let QO0000='pid='+activityId;$[O0QQ('‮d0','6Rfx')](taskPostUrl(O0O0QQ['OOOOQ'],QO0000),async(QO0QQQ,QOQ00Q,QOQOO0)=>{var QOQ0QQ={'QO0OQ':function(QOQ00O,QOQ0QO){return QOQQQ0['OOO0O'](QOQ00O,QOQ0QO);},'OQQOQ':QOQQQ0['OQ0O0']};if(QOQQQ0[O0QQ('‮d1','8yW1')](QOQQQ0[O0QQ('‮d2','At#q')],QOQQQ0[O0QQ('‮d3','J9S9')])){if(typeof str==O0QQ('‫d4','7]K3')){try{return JSON[O0QQ('‮d5','1^5q')](str);}catch(OOQO0Q){console[O0QQ('‮d6','OOYt')](OOQO0Q);$[O0QQ('‫d7','2s(x')]($[O0QQ('‮d8','t3g1')],'',QOQQQ0['QQ00Q']);return[];}}}else{try{if(QO0QQQ){console['log'](QOQQQ0['QQ0QO']('',JSON['stringify'](QO0QQQ)));console[O0QQ('‫d9','v[Hq')](QOQQQ0['QQ00O']($[O0QQ('‫da','M9Q#')],QOQQQ0[O0QQ('‫db','^%Wn')]));}else{QOQOO0=JSON[O0QQ('‫dc','1$Z#')](QOQOO0);if(QOQOO0&&QOQQQ0[O0QQ('‮dd','%dd(')](QOQOO0[O0QQ('‫de','OOYt')],QOQQQ0[O0QQ('‮df',')@ua')])){if(QOQOO0[O0QQ('‮e0','D2W9')]['prize_info']){if(QOQQQ0[O0QQ('‮e1','KAtO')](QOQQQ0['O00OO'],QOQQQ0[O0QQ('‮e2','mrCU')])){switch(QOQOO0[O0QQ('‮e3','2s(x')][O0QQ('‮e4','KAtO')][O0QQ('‮e5','I&rB')]){case QOQQQ0['O0Q00']:console[O0QQ('‮e6','2s(x')](O0QQ('‫e7','s)4N'));break;case QOQQQ0[O0QQ('‫e8','aX69')]:console['log'](QOQQQ0['QQ00O'](QOQQQ0['Q0O0O'](O0QQ('‫e9','s)4N'),QOQOO0[O0QQ('‮ea','5geE')][O0QQ('‮eb','6Rfx')]['prize_title']),O0QQ('‮ec','^%Wn')));break;case O0QQ('‫ed','I&rB'):console[O0QQ('‫ee','!X!7')](QOQQQ0['Q0O0O'](O0QQ('‮ef','c^)6'),QOQOO0[O0QQ('‮f0','(i2!')][O0QQ('‮f1','1$Z#')][O0QQ('‮f2','!XKh')]||QOQOO0[O0QQ('‫f3','6Rfx')][O0QQ('‮f4','lzkL')][O0QQ('‮f5','%dd(')]));break;case QOQQQ0[O0QQ('‮f6','9EET')]:console['log'](QOQQQ0[O0QQ('‮f7','J9S9')]('🎉\x20实物',QOQOO0['data'][O0QQ('‫f8',')(k7')]['prize_name']));break;default:console[O0QQ('‮f9',')@ua')](QOQOO0[O0QQ('‫fa','1^5q')]);break;}}else{$['drawnum']=pattern[0x1];}}else{console[O0QQ('‮fb','$7jN')](O0QQ('‮fc','sFhs'));}}else{if(QOQQQ0['QOQ0O'](QOQQQ0[O0QQ('‫fd','2s(x')],QOQQQ0[O0QQ('‮fe','I&rB')])){try{return JSON[O0QQ('‫ff','8yW1')](str);}catch(QO0OQ0){console['log'](QO0OQ0);$['msg']($['name'],'',QOQQQ0[O0QQ('‫100','!XKh')]);return[];}}else{console[O0QQ('‮101','mrCU')](O0QQ('‮102','M9Q#')+QOQOO0[O0QQ('‫fa','1^5q')]);QO0QQQ=QOQOO0[O0QQ('‮103','%dd(')];for(let QO0O00 of['不足',QOQQQ0['QQOOQ'],'火爆','上限',QOQQQ0[O0QQ('‫104','67Pb')],QOQQQ0['QOQQO']]){if(QOQQQ0[O0QQ('‮105','3lHi')]!==QOQQQ0[O0QQ('‮106','UpEp')]){console[O0QQ('‫107','lzkL')](QOQ0QQ['QO0OQ']('',JSON[O0QQ('‫108','!XKh')](QO0QQQ)));console[O0QQ('‫109','At#q')](QOQ0QQ[O0QQ('‫10a','^%Wn')]($[O0QQ('‮d8','t3g1')],QOQ0QQ['OQQOQ']));}else{if(QO0QQQ[O0QQ('‮10b','8yW1')](QO0O00)){$[O0QQ('‫10c','!XKh')]=!![];break;}}}}}if(QOQQQ0[O0QQ('‫10d','7A)N')](QOQ00Q[O0QQ('‮10e','mIqH')],0xc8)){refreshToken(QOQ00Q);}}}catch(QOQQQQ){$[O0QQ('‫10f','vRh!')](QOQQQQ,QOQ00Q);}finally{QOQ0OO();}}});});}function lotteryx(){var QOQQ0O={'OQOQQ':function(QOQ000){return QOQ000();},'O00OOO':function(QOQQQO,QOQ0Q0){return QOQQQO+QOQ0Q0;},'QOO0QO':O0QQ('‮110','v[Hq'),'QQQO0Q':O0QQ('‫111','vRh!'),'QQQOQQ':function(QO0OOO,QO0OOQ){return QO0OOO<QO0OOQ;},'QQQO0O':function(O0OQO0,OQ0OQO){return O0OQO0*OQ0OQO;},'QQQOQO':function(OQQOOQ,OQQOOO){return OQQOOQ===OQQOOO;},'O00OQ0':O0QQ('‮112','X2gk'),'QOOQQQ':'OOQO','QOOQ0Q':function(Q00O0Q,OOOQQ0){return Q00O0Q+OOOQQ0;},'O0QQQQ':O0QQ('‮113','8yW1'),'O0Q000':function(OOO0OO,Q00OQQ){return OOO0OO!==Q00OQQ;},'O0QQ0O':'活动已结束或者未开始','O0QQ0Q':function(Q00O0O,OOOQ00){return Q00O0O!==OOOQ00;},'O0QOOO':'OQOQ','QOO0Q0':'QQQQ','QOOQ0O':O0QQ('‮114','c^)6'),'QOO000':'gzip,\x20deflate,\x20br','O00O00':'zh-CN,zh-Hans;q=0.9'};return new Promise(OOO0OQ=>{if(QOQQ0O['QOOQ0O']!==QOQQ0O['QOOQ0O']){QOQQ0O[O0QQ('‮115','eD^3')](OOO0OQ);}else{const OQQOQ0={'url':domains+O0QQ('‫116','Vwa[')+activityId+O0QQ('‫117','tz7u')+$[O0QQ('‮118','tz7u')],'headers':{'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9','Accept-Encoding':QOQQ0O['QOO000'],'Accept-Language':QOQQ0O[O0QQ('‫119','Vwa[')],'Connection':'keep-alive','Cookie':cookie,'Host':$['domain'],'Referer':activityUrl,'User-Agent':$['UA']}};$['get'](OQQOQ0,async(OQ0O00,OQ0OQ0,Q0QOQ0)=>{var Q0QO00={'OQOQO':function(OQQ0QQ,OQQ00O){return QOQQ0O[O0QQ('‮11a','Vwa[')](OQQ0QQ,OQQ00O);},'QQOQ0':function(OQQOO0,OQQ00Q){return QOQQ0O[O0QQ('‫11b','xDXe')](OQQOO0,OQQ00Q);},'Q0QO0':QOQQ0O[O0QQ('‮11c','6foV')],'O0Q00O':function(OOO0Q0,OOOQ0O){return OOO0Q0||OOOQ0O;},'O00OOQ':QOQQ0O['QQQO0Q'],'QOO00O':function(Q00O00,OOO000){return QOQQ0O[O0QQ('‮11d','!X!7')](Q00O00,OOO000);},'QOO0QQ':function(OOOQQO,OOOQ0Q){return QOQQ0O[O0QQ('‫11e','M9Q#')](OOOQQO,OOOQ0Q);}};try{if(OQ0O00){if(QOQQ0O['QQQOQO'](QOQQ0O[O0QQ('‮11f','M9Q#')],QOQQ0O[O0QQ('‫120','xDXe')])){console['log'](O0QQ('‫121','UpEp'));return![];}else{console[O0QQ('‫122','(i2!')](QOQQ0O[O0QQ('‫123','tz7u')]('',JSON[O0QQ('‮124','5geE')](OQ0O00)));console[O0QQ('‮af',')(k7')]($[O0QQ('‫125','UpEp')]+QOQQ0O[O0QQ('‫126','Vwa[')]);}}else{Q0QOQ0=Q0QOQ0;if(Q0QOQ0){if(QOQQ0O[O0QQ('‫127','tz7u')](O0QQ('‫128','c^)6'),O0QQ('‫129','$7jN'))){console[O0QQ('‫12a','6foV')](Q0QO00[O0QQ('‫12b','6foV')](Q0QO00['QQOQ0']('【京东账号',$['index']),Q0QO00[O0QQ('‫12c','KAtO')]));}else{let Q00OOQ=Q0QOQ0[O0QQ('‫12d','mIqH')](/(活动已结束)/)&&Q0QOQ0[O0QQ('‫12e','tz7u')](/(活动已结束)/)[0x1]||Q0QOQ0[O0QQ('‫12f','OOYt')](/(哎哟，当前活动尚未开始噢！)/)&&Q0QOQ0[O0QQ('‮130','At#q')](/(哎哟，当前活动尚未开始噢！)/)[0x1]||'';if(Q00OOQ){$[O0QQ('‫131','5geE')]=!![];console[O0QQ('‮132','mIqH')](QOQQ0O[O0QQ('‫133','3lHi')]);}let OOO0QO=Q0QOQ0[O0QQ('‮134','c^)6')](/剩余抽奖<span>(.+)<\/span>次/);if(OOO0QO){if(QOQQ0O[O0QQ('‫135','1$Z#')](QOQQ0O['O0QOOO'],'OQOQ')){$['logErr'](e,OQ0OQ0);}else{$['drawnum']=OOO0QO[0x1];}}}}}}catch(OQ0O0Q){if(QOQQ0O[O0QQ('‮136','!X!7')](QOQQ0O[O0QQ('‫137','tz7u')],QOQQ0O[O0QQ('‫138','1^5q')])){$[O0QQ('‮139','7]K3')](OQ0O0Q,OQ0OQ0);}else{OQ0O0Q=Q0QO00[O0QQ('‫13a','t3g1')](OQ0O0Q,0x20);let OQ0O=Q0QO00[O0QQ('‫13b','6foV')],QQOQ=OQ0O[O0QQ('‮13c','tz7u')],O0Q0='';for(i=0x0;Q0QO00[O0QQ('‫13d','J9S9')](i,OQ0O0Q);i++)O0Q0+=OQ0O[O0QQ('‮13e','!X!7')](Math['floor'](Q0QO00[O0QQ('‮13f','67Pb')](Math[O0QQ('‮140','1$Z#')](),QQOQ)));return O0Q0;}}finally{QOQQ0O[O0QQ('‮141','I&rB')](OOO0OQ);}});}});}function taskPostUrl(Q0QOQQ,OQQ000){var OQQQQQ={'QOOQ00':function(OQQ0Q0,OQQQ0Q){return OQQ0Q0+OQQQ0Q;},'QOO0OQ':function(OQQQQO,OQQQ0O){return OQQQQO+OQQQ0O;},'O0Q0QQ':O0QQ('‮142','(R(V'),'O0Q00Q':O0QQ('‮143','6foV'),'O0QOO0':'zh-CN,zh-Hans;q=0.9','O0QO00':O0QQ('‫144','7A)N')};return{'url':OQQQQQ[O0QQ('‫145',')@ua')](OQQQQQ[O0QQ('‫146','Vwa[')]('',domains),Q0QOQQ),'body':OQQ000,'headers':{'Accept':OQQQQQ[O0QQ('‮147','J9S9')],'Accept-Encoding':OQQQQQ['O0Q00Q'],'Accept-Language':OQQQQQ['O0QOO0'],'Connection':'keep-alive','Content-Type':OQQQQQ[O0QQ('‫148','Vwa[')],'Cookie':cookie,'Host':$[O0QQ('‫149','eD^3')],'Origin':domains,'Referer':activityUrl,'User-Agent':$['UA']}};}function refreshToken(Q00OOO){var OOOQO0={'QOOO00':function(Q0000Q,OQQ0QO){return Q0000Q+OQQ0QO;},'QOQQO0':function(OQ00QQ,OQ0OO0){return OQ00QQ+OQ0OO0;},'QO0QOQ':'application/json,\x20text/javascript,\x20*/*;\x20q=0.01','O00OQQ':O0QQ('‮14a','UpEp'),'O00O0Q':'zh-CN,zh-Hans;q=0.9','QOOOQ0':'application/x-www-form-urlencoded;\x20charset=UTF-8','QO00OO':O0QQ('‮14b','1$Z#'),'QO0QQ0':function(OQ000Q,OQ00QO){return OQ000Q===OQ00QO;},'QOOOOQ':'OQOO','QO0Q00':'QQ0Q'};if(Q00OOO){if(Q00OOO[O0QQ('‮14c','At#q')][OOOQO0[O0QQ('‮14d','!XKh')]]){if(OOOQO0['QO0QQ0'](OOOQO0['QOOOOQ'],'OOOQ')){return{'url':OOOQO0['QOOO00'](OOOQO0[O0QQ('‫14e','1^5q')]('',domains),url),'body':body,'headers':{'Accept':OOOQO0[O0QQ('‫14f','7A)N')],'Accept-Encoding':OOOQO0[O0QQ('‮150','t3g1')],'Accept-Language':OOOQO0['O00O0Q'],'Connection':'keep-alive','Content-Type':OOOQO0[O0QQ('‮151','mIqH')],'Cookie':cookie,'Host':$['domain'],'Origin':domains,'Referer':activityUrl,'User-Agent':$['UA']}};}else{cookie=originCookie+';';for(let OQQ0OO of Q00OOO[O0QQ('‮152','c^)6')][OOOQO0[O0QQ('‮153','sFhs')]]){lz_cookie[OQQ0OO[O0QQ('‮154','mIqH')](';')[0x0][O0QQ('‫155','^%Wn')](0x0,OQQ0OO[O0QQ('‫156','Yo2z')](';')[0x0][O0QQ('‫157','X2gk')]('='))]=OQQ0OO[O0QQ('‮158','7]K3')](';')[0x0]['substr'](OOOQO0['QOQQO0'](OQQ0OO['split'](';')[0x0][O0QQ('‮159','%dd(')]('='),0x1));}for(const OQQQ00 of Object[O0QQ('‮15a','6foV')](lz_cookie)){if(OOOQO0[O0QQ('‫15b','1^5q')]('QQ0Q',OOOQO0[O0QQ('‫15c','s)4N')])){cookie+=OOOQO0['QOQQO0'](OOOQO0[O0QQ('‫15d','67Pb')](OQQQ00,'=')+lz_cookie[OQQQ00],';');}else{$['logErr'](e,Q00OOO);}}activityCookie=cookie;}}}}function getUA(){var OQQ0OQ={'QQ0OQO':function(OQQQQ0,Q000QQ){return OQQQQ0(Q000QQ);}};$['UA']=O0QQ('‫15e','KAtO')+OQQ0OQ[O0QQ('‮15f',']eNJ')](randomString,0x28)+O0QQ('‫160','xDXe');}function randomString(Q00OO0){var Q0000O={'QQ0OQQ':function(OOO0O0,Q000QO){return OOO0O0||Q000QO;},'O0QOQO':O0QQ('‫161','M9Q#'),'QQ0O0Q':function(OOOQOO,Q00Q0Q){return OOOQOO<Q00Q0Q;},'O0QOQQ':function(Q00QQQ,OQ0OOQ){return Q00QQQ*OQ0OOQ;}};Q00OO0=Q0000O[O0QQ('‫162','lzkL')](Q00OO0,0x20);let OQ0OOO=Q0000O['O0QOQO'],Q00000=OQ0OOO[O0QQ('‫163','At#q')],Q00Q0O='';for(i=0x0;Q0000O[O0QQ('‫164','!XKh')](i,Q00OO0);i++)Q00Q0O+=OQ0OOO['charAt'](Math[O0QQ('‫165','1$Z#')](Q0000O[O0QQ('‮166','Vwa[')](Math[O0QQ('‫167','9EET')](),Q00000)));return Q00Q0O;}function safeGet(OOOO00){var Q00QQO={'QOOOOO':O0QQ('‮168','xDXe'),'QQQOQ0':function(Q000Q0,OOQQO0){return Q000Q0!==OOQQO0;},'QQQOOQ':O0QQ('‮169','6Rfx'),'QOO00Q':function(OOOO0O,Q000OQ){return OOOO0O==Q000OQ;},'QO0QOO':'object','QO00O0':function(OOOOQO,Q00Q00){return OOOOQO===Q00Q00;},'QQ0OO0':O0QQ('‫16a','67Pb')};if(!OOOO00){if(Q00QQO['QQQOQ0'](O0QQ('‫16b','!X!7'),Q00QQO[O0QQ('‮16c','STc]')])){$[O0QQ('‮16d','!XKh')]=!![];console[O0QQ('‮101','mrCU')](Q00QQO['QOOOOO']);}else{console['log'](O0QQ('‮16e','v[Hq'));return![];}}try{if(Q00QQO[O0QQ('‫16f','^%Wn')](typeof JSON[O0QQ('‮170','v[Hq')](OOOO00),Q00QQO[O0QQ('‫171','1$Z#')])){return!![];}}catch(OO0QOO){if(Q00QQO[O0QQ('‮172','5geE')](Q00QQO['QQ0OO0'],O0QQ('‫173','9EET'))){console['log'](OO0QOO);return![];}else{$[O0QQ('‫174','lzkL')](OO0QOO,resp);}}}function jsonParse(OOOO0Q){var Q00QQ0={'QQQQQO':function(OOQQOQ,Q000OO){return OOQQOQ==Q000OO;},'O000O0':O0QQ('‫175','aX69'),'QQQQ0O':function(OOQ0O0,OOOOQQ){return OOQ0O0===OOOOQQ;},'QQQ000':'Q0QQ','QQQ0Q0':function(OOQQOO,OOQQQ0){return OOQQOO!==OOQQQ0;},'O00QOQ':O0QQ('‮176','OOYt'),'QQQ0OQ':O0QQ('‫177','1^5q')};if(Q00QQ0[O0QQ('‫178','[Sz9')](typeof OOOO0Q,Q00QQ0[O0QQ('‫179','mIqH')])){try{if(Q00QQ0['QQQQ0O'](Q00QQ0[O0QQ('‫17a','M9Q#')],Q00QQ0['QQQ000'])){return JSON['parse'](OOOO0Q);}else{refreshToken(resp);}}catch(OOQ0OO){if(Q00QQ0['QQQ0Q0'](O0QQ('‮17b','5geE'),Q00QQ0['O00QOQ'])){console['log'](OOQ0OO);$[O0QQ('‫17c','lzkL')]($[O0QQ('‮d8','t3g1')],'',Q00QQ0['QQQ0OQ']);return[];}else{$[O0QQ('‫17d','I&rB')]('','\x20'+$['name']+O0QQ('‮17e','5geE')+OOQ0OO+'!','');}}}}function random(Q000O0,OO0QO0){var OO00QO={'O0OOOO':function(OO000O,OQQOQQ){return OO000O+OQQOQQ;},'O0OOOQ':function(OQQO0Q,OOO00O){return OQQO0Q*OOO00O;},'QQ0OOO':function(OOOOO0,OOO0QQ){return OOOOO0-OOO0QQ;}};return OO00QO[O0QQ('‮17f','lzkL')](Math[O0QQ('‮180','$7jN')](OO00QO['O0OOOQ'](Math['random'](),OO00QO[O0QQ('‫181','sFhs')](OO0QO0,Q000O0))),Q000O0);}function getQueryString(OOO00Q,Q00QO0){var OO0Q0Q={'QQ0OOQ':function(OO0QQQ,OO0000){return OO0QQQ+OO0000;},'O0OOQO':O0QQ('‮182','OOYt'),'O00Q00':'=([^&]*)(&|$)','O000OO':function(OO0Q0O,OO0QQO){return OO0Q0O!=OO0QQO;},'O00QQ0':O0QQ('‮183','1^5q'),'QQQ0QQ':function(OO00Q0,OQQO00){return OO00Q0(OQQO00);}};let OOOOOO=new RegExp(OO0Q0Q[O0QQ('‫184','8ce1')](OO0Q0Q[O0QQ('‮185','v[Hq')](OO0Q0Q[O0QQ('‮186','(i2!')],Q00QO0),OO0Q0Q[O0QQ('‮187',']eNJ')]));let OOOOOQ=OOO00Q[O0QQ('‮188','(R(V')](OOOOOO);if(OOOOOQ!=null){if(OO0Q0Q[O0QQ('‮189','aX69')]!==OO0Q0Q[O0QQ('‮18a',')@ua')]){let Q0O0=new RegExp(OO0Q0Q[O0QQ('‮18b','OOYt')](OO0Q0Q['O0OOQO'],Q00QO0)+OO0Q0Q[O0QQ('‮187',']eNJ')]);let OOQQ=OOO00Q[O0QQ('‫18c','7]K3')](Q0O0);if(OO0Q0Q[O0QQ('‮18d','67Pb')](OOQQ,null)){return unescape(OOQQ[0x2]);}return'';}else{return OO0Q0Q[O0QQ('‫18e','(R(V')](unescape,OOOOOQ[0x2]);}}return'';};OＯ0$='jsjiami.com.v6';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }