/*
活动名称：店铺关注有礼
环境变量：jd_drawShopGift_argv // 活动参数，格式：”<shopId(店铺id)>_<venderId(店主id)>“
        jd_drawShopGift_Notify // 是否推送通知（true/false），默认不推送

注：运行频繁会403限制IP

7 7 7 7 * jd_drawShopGift.js

*/

const $ = new Env('店铺关注有礼')
const jdCookie = require('./jdCookie')
const notify = require('./function/sendJDNotify')
const common = require('./function/jdCommon')

var iｉl='jsjiami.com.v7';const llI1l1i=I1l1Ili1;(function(iIlli11l,lll11iII,I1Iil1,Il11IiI1,Il111ili,iIiIIl,IiI1I1lI){return iIlli11l=iIlli11l>>0x5,iIiIIl='hs',IiI1I1lI='hs',function(l1liiIIl,il11i,IllIilli,I1Ii1I1,II1IlIl){const lIIlill1=I1l1Ili1;I1Ii1I1='tfi',iIiIIl=I1Ii1I1+iIiIIl,II1IlIl='up',IiI1I1lI+=II1IlIl,iIiIIl=IllIilli(iIiIIl),IiI1I1lI=IllIilli(IiI1I1lI),IllIilli=0x0;const lIIiilll=l1liiIIl();while(!![]&&--Il11IiI1+il11i){try{I1Ii1I1=parseInt(lIIlill1(0x32e,'qFbN'))/0x1+parseInt(lIIlill1(0x37a,'(X2@'))/0x2+parseInt(lIIlill1(0x255,'[S6n'))/0x3*(-parseInt(lIIlill1(0x2e9,'Baad'))/0x4)+-parseInt(lIIlill1(0x340,'@KqS'))/0x5*(parseInt(lIIlill1(0x20b,'qFbN'))/0x6)+-parseInt(lIIlill1(0x203,'K7#t'))/0x7*(parseInt(lIIlill1(0x245,'Vfhn'))/0x8)+parseInt(lIIlill1(0x226,'DBeU'))/0x9+-parseInt(lIIlill1(0x353,'346Q'))/0xa;}catch(i1i1iiiI){I1Ii1I1=IllIilli;}finally{II1IlIl=lIIiilll[iIiIIl]();if(iIlli11l<=Il11IiI1)IllIilli?Il111ili?I1Ii1I1=II1IlIl:Il111ili=II1IlIl:IllIilli=II1IlIl;else{if(IllIilli==Il111ili['replace'](/[neTULAqxGwBrCdkbQPg=]/g,'')){if(I1Ii1I1===il11i){lIIiilll['un'+iIiIIl](II1IlIl);break;}lIIiilll[IiI1I1lI](II1IlIl);}}}}}(I1Iil1,lll11iII,function(il1iiliI,Il111I1l,Il111ll1,liii1I,il1IiiIl,iiiI1ii,iiI1iilI){return Il111I1l='\x73\x70\x6c\x69\x74',il1iiliI=arguments[0x0],il1iiliI=il1iiliI[Il111I1l](''),Il111ll1=`\x72\x65\x76\x65\x72\x73\x65`,il1iiliI=il1iiliI[Il111ll1]('\x76'),liii1I=`\x6a\x6f\x69\x6e`,(0x150359,il1iiliI[liii1I](''));});}(0x1940,0x43544,IliIIlll,0xcc),IliIIlll)&&(iｉl=llI1l1i(0x2d8,'(X2@'));const activityArgv=process[llI1l1i(0x31c,'@KqS')][llI1l1i(0x326,'zJcN')]||'',isNotify=process[llI1l1i(0x285,'zJcN')][llI1l1i(0x321,'*w6r')]===llI1l1i(0x1c4,'K7#t');let cookie='';const cookiesArr=Object[llI1l1i(0x359,'(nMF')](jdCookie)[llI1l1i(0x212,'^L&u')](li11l1iI=>jdCookie[li11l1iI])[llI1l1i(0x26d,'[S6n')](lIIIIIll=>lIIIIIll);function IliIIlll(){const iiii1Ili=(function(){return[...[iｉl,'BdjqsjiPUawmnLirA.QcomxC.GxgvPn7eTCbGkkG==','W5tcRKfocZaAwLu','WOeUxbGx','4P+kb+I3MEwnLEAuQEAxNW','5BwW57QT5ysW5Rcu6kYi5BQc6zkI776c5OQd6kgT5y615yEC5PcN5l67','W43dUSkjWQFdNW','lX9InCkRWP0+fa','W4JdUSkuzZlcRG','nSoDW5/cHmk8','W6VcGLfXmG','WOmNsZaw','WQmNALGjwu4xWPRdILi','WPZdVSkYkeW','oCkmW61armkoWPxdVCkHW6m','g8kodgtcLmkTzWHOW7mWWRf1WQq','i8kfWR4','bGpcHu7cTW','BCkeWPVcKr0','WR17W7DRiHhcUq','FCoMDLtdLSki','FSo2AG','W5NdNCkYDJK','t17dIW','W5tJGB3LUBNPK7RLN7FLN4RJGAZcOLBcOCodW6ddM1PVWQFdMvZdOX3dRwKuAr/dTeNcOSkQWOVcTCo5WR7cTSkNW6lcJa','WPe0WQ8gW74','W6z1lHjA','w1pdKmkNavG','WRiKWPGqW6BdPq','WR0UWPGrW7VdQG','gGbgfmkp','htBcHeVcJW','wqtdNCkgy2Go','W4BcTteukwq','t8kLtwLc','W4Ola8kYmSk1WQ4ciSkx','kCo1W5VcOCkpocy','W7rcW4q','g8o9CCkvgW','kb3cTq','aGNcKW','vmkPoxBdKW','E1/dNSkfaW','W6hdLI/cImkA','W49clHDy','pwbBWQ8u','W5xcH3bJWPG','W53cKspdSwXuxfjVWOS','krBcVHPa','4PMSqoIVSowGNUwhJoAJHow9OUATVUEHH+EyR+EmP+wJSowpH+MfRq','5P+Z55+C5Rs55yIn54QA5OcK772A6k+q5P6D552u5Ps55B2G','ACk9WOZcJIm','W7NcQGG3jW','kCoQW4dcUmkZkIfxWRy','WOddGW3dQSkt','WRPKW71Lka','4PYYcUI0NUwmLUAwGEAuVq','A1/dMmkBgq','W5blWQVdPCovsZPx','u8kcWRhcPXW0WP8','lSkTW4xcQSoGWRa','nCkcW7tcVmosW79EW4TOW7BdUmkKlSouW7pdICkZnh9/lSkCW6yufWpdICkReJuVW77cRexdS3hcUCkEWPFcN3VdR8kxW79VlmkTbLXZWQnpWPNdHGv+WP9hESktWR9HqbNdHLbqxSoxaSke','aqJdSW','z8oGFuhdPW','FNFdJ8k6jG','WQ4TWRidW7u','mWVdK0qp','W6ldKZldVmo3','jCktW4PQwG','kCkgWRBcM8ob','W6u+WQxcGCoC','oaP8Fmk9WOCyaa','cmkpWO3cVmoL','W6xdSJlcH8kd','Dmo2ysRcJSk2jCkiWRZdIW','W50YW67cQCkpW74AW60','laVdG8kHsq','W4lcKeTnWOy','orFdOa','W5FdQIRdLSoQ','p8klWQVcH8ow','FSkeWR/cJW0','W4OXW4NcTmk3','D8o3EW','m8kmW6y','aSkaWQTvnK8KteO','lCkcW6LHBG','uLpcKSkubHddTZ3cRSotW5hcP8kCW4lcTHpcRsRdRW','tvZcGSopaSouxa4KdhGnWOKkfSoTWPhdU8kHWQueEG','WP/dVYFdUmklWP4','WPCFW7hcRW','WPhdR8kqhmod','gCkGW5xcM8ol','WR5SW4rGnXNcOmk+WQigWQeRjmkCbsVdSWWJW5m','hSkfW5JcNmov','W7NdHGtdRCoe','WRyzWPPWWRtcSfldPupcPCoAWR3cJfSQWRdcN1ddVf7cRYqszftdUvldOCoKW5FcSSo4WR7cQmorW6hdRGFdKgTPqmojWOCBW68hymkrfZJdT8ooW6aLB24','oGNdL8kMya','W7hdHHpcJ8kWW6bY','WOm7EYaWFa','WRCVWPisW6O','WQ/cLvtdHCoKWRfyWO/cN8oRW7tdLW','W7tdNmkPAY4','f8kmWRT9la','W7ZdVSksEZ0','WRuJWOufW5q','5lIY5lUJ5PYC5yMn5zQ56l235zQQ56Mj5PA85O2N','nb9/iSkVWOGs','W5VcKtxdSIbsvq','W4dcS1vtfGmCxv8M','W6ZcNN/cImk+W44','W5FcLZldQdDCrejqWOO','W4CgWONcT8oD','WPC3Ca','WRCdWOPLWR8','WRfSBmoFwq','dCklW6Xoxa','W4dcPNtcHmomW5RdSCoIW6FdImoInq','W7P7oW','i8kGobtcOmkkdCkbWRe','l8kGW5NcR8otWQurWQVdN8kKWPRcQmkNWO9pWQ1CW5FcGci','BLJdUaBdJGVdUG','WR0nWPpcG1u','WRamWOnL','W5ddGdBcICkZ','A0hdTCkscq','WRrCCCowtuiZ','WRvsW65Mfq','DJFdPbS','kColW4dcUSkz','W6FdISk/W5ddPq','WRC0WRDHWRm','W7ziWOZdLG','6lwx5yYd5Ps55Pw0','WPRdVJpdMmklWPG','W5lcTx3cTSkq','z8oAq3hdVa','nCkzjxxcHW','W6z3W6hdHH0MW40UWOxdOmkFW4ad','W67dTSk7W7hcI8o2WRhdJIFcV8k2WONcOSkhBSkbdG','W4BcQ2vdba','nWBcOexcIKBcMuddUW','WQK3BbCA','WRvRW69TmXhcO8kuWOmn','W5ZdVYBcLG','WPygrG8F','WPLNW6jCnG','Cmkbu1fK','W7balIbV','W73cHahdMZm','W6vhWRpdH8oa','W5KSWPhcLSoH','W5hcIMS','W5xcV0bscsm','D8kIdmoKyxZcVCkZuSoTW4a','WOFdOgW','WRynWOJcVu8','WRSbBGe','WOtdOSkYn2yTja','iGldN8kuwG','WQDGW7r0dbW','W6uhn8kVWOrYnG','hCkBWR4','oCkpWRFcKmowW6nKWOi','ddbuhmk0','W6bQWOFdO8kM','W4VcJhW','imkxWPDMfa','W5NdOhFdG8kgWQtcQmkQrIpdStxdGSkAidBdNSk+','WRSQWR8'],...(function(){return[...['W4VcTvq','W4NdT8kiyHFcVG','pCksW4pcVCoC','aSkvcx3cQSkHFLzuW7qYW7jMW4ZcTCoIdmoHWPHs','dHxdSCkpDMq','W4GIWQtcV8o0','WQpdTCk7iKK','qmonuZRdJCo3oK5aW44eW7rW','ChxdP8k4dG','caHTpCkx','WPxdUtG','W68QW4NcMSkn','W4etqfxcJSo/W6FcVG','W5pcQ1X2WR4','rLRdKSkY','W5rlWQhdLSoFsXC','W7yoWQNcTa','mmoTW5JcUmk8iceFWQZcUK9EW5VdIq','W7NdKSkeWQRdIa','W4xdVYZcKmkyW7G','tCkEWPxcMXm','W7BcNsWIha','WQqXWQRcMKn3WPqLWRy','ECklWPFcJtO','WPKTWP7cQ1u','W6ioWQ/cPSo3','ESkpwa','8lUVPSo9','W6bFWP3dO8k9','vCkIWQFcIqW','WRK4WRq0W5y','W4XJWQ3dTmkN','W7imsKJcSG','xNpcImofaW','WQLyCmowsq','WPulsdex','W4FdU38','WRm8WOzIWPe','WPOpaCkUaG','WOxdTHfgbImAsKuMlq9QgCoVEW','5P605PYA6k+Z5yUC5REQ5yIl5l6v5OgC5OUA5BE76Ac25y2t6lY85AsZ5yUi','W6/dN8k6WRhdMqdcQG','WQFdQ8kCpmo5qe3dRq','5lM45lIu5P6w5yQL5zIT6l6S5zIj56Qx5PA65OYh','oM5lWPSh','6lAb5yYT5PEt5PwV','B8oTBu3dQCkfwf4iva','W78CWRO','xMVdMmkbma','zmkvuwDVW7y','caNcMcn1jSotW45gWQ8','W53cV1vTkW','5P6I556K5AED5zcA6Agh5y2j54Ub5Okj772v6k+15P+u55+O5Pwz5B2z','WOClWQvuWQe','s8klWORcMIK','WRa9WPlcMLO','W63dRCkMW6a','W5lcUtO','W64nja','W6mskSosWOa7mSoQW4Pcdmoc','W4hdVZhcGCkrW75/WQK','W6biWPpdJSkMW6ddGNS2W6i','W4NdHJNcN8kI','eSk7W5futG','kCkFWRFcL8ohW7HcWOHRW4ldVSkXyCkeWQJcUSk+nsjYf8obW6mprulcLmo+dZrLWRxcI0JdSwRdO8oOW7RcLcBdSmouWRK4Cmoecb9KW4S','dCoYu8kHgG','f8kWW5neFG','fSkrWRDPgq','WRVcVmoI','y8oOBGZcHW','WR1nW71RlG','WRmCWPXTWPq','W7ZdUIFdVSoe','x8kSu0Dr','W65gcdLN','tSkdWQJcRq','W4RcHMHDWRddQb4','W77dPCkbWRtdRq','5lU15lMM5PYb5yUW5zQM6lY75zQP56Ik5Pw15O2g','nZb0jSkj','WR8uDrW7WP8eE1a','cW7dRa','WQxdU8kojG','WQjRW69mmW','xCkuWQNcMXmYWOeLW7m2W5HCjSohW6eOq8ohW6nMWOrdEW','FmoVD0ddSmkb','kIbPbCkQ','WOeyfCkVn8k3WRK','W4BdP3/dTSkRWRC','WOmkWPFcH2i','o8kcW7vn','dHXyimk0','ySoxBSky6k6U5RgO5AEf6lEJ77Ym6k2s5Qg35PYV572T6lsp6yEb6k6g','uCo9AGRcSa','jttdHSkgvW','W4DlWQJdRCkc','4PM1WQ7ORiRLHiBLRltKUABLV7ROPiJNMkBNJOxLOihLJztPHjlLK6ZLH7pOVOpOO6tOHR/MNOm','pSktW6GcrSoxWRVdVmo8W6nIiG','W5tcIhjEWOpdUHu','mHFcVeJcGvpcUui','hSk8W67cHCoL','n8kxW7vCwmodW77cT8kZW7bKyCkFw8kbx8kclSkde8k9W6ZcLGtdMmoSxYf/W6JdQrpdTvC/WR3dMCoVe8o2hbRdSN5mAG','WRJdQ8kopCopsfO','W6tdQCkHW7ldHSkXWRa','s1FcUG','W6rEWOFdRSog','ymo8FJpcJCk1','Cd3dUqT2FSoCDq','WOidrreH','DCoWAZlcOSkUaSkc','WPOycmk4m8kIWPuV','WRZdOcRdM8ojWQi','jSkeWRRcMmogW7viWPu','D8o/wI3cOG','WR8CWRHKWQy','W6qMeSkQWOu','WRCrWQqXW5e','WRVdSCkheem','m8k5WRD/aq','WRBcM8o5','d8o3W6BcS8ks','WRerWQRcSN0','kCkdWQe','mmkTW5JcUmo4WQW','W7RdPmk9W7hdRSkY','xfBcO8oEldf3u2LHW68','WO3dPSk1jq','W7/cJ2hcGmk4W4avr8kLzSoEWQRcG0GoWOafqYnthCkICCoVW5xdIHLWFCoZhJro','W4dcIN1AWOxdPG/dMmkm','W6/dPCkQ','nSknWR1zpG','W7O0W6xcNSkVW7S','WOddUc/dJCkWWOG','W6NdQIRdJ8o5W7S','WPFdSttdNa','qfhcU8oFjmoCxZeP','svNcSmoo','zmo8yYlcHmkZl8kd','cmojW6RcOaGzWRyiW74','W4rMo2bKpmoFW69nkJGI','W71zmICuWRmgE0a','W6jJWP3dHSoA','WQ0QWP8hW4ddUfG','dv5kWOGpeKVdKSoL','WQaTlmkpiG','WOSfuZ0d','WQNcL1ldICoPW5fEWQJcICoGW48','W4NdGdBcMmkA','WP/dVYC','DsZdPqz9A8o8D2C','CmkUvNr5','x07cImo+jG','fWThbCkE','WP7dSta','kmo7W4hcPmkXoq','dujxWPeOeq','WQixyHOp','hXT5omkT','W4/dSsddJCo+W74MCa','W6yWcCklWRu','n8ojW6RcNCk3','fXBcS37cRW','lCo6sCkHhq','WQtdNSk4lCog','WOC3Ea','WPtdGbtdS8ks','aSkvcx3cVmkK','WQCPWRFcLer+W5mUW6hdJCk/WOaqWR8/','BLFcUSoPbW','ACoRBwFdSmkdr04KzHJdJSkOW40'],...(function(){return['AdhdTarDBCo4Da','W5mJlJyWyCoyW7DTrtGBqg7cU8oKW4NdICk8W6KYi1pdHCkfW5RcNsZcQMa4C3pcV39QpSo5W6CYzmotW6ddMmk8ymk6WQjWyvldIKCHWQ1rWOpcICoTWRvjyfxcUrBdUGlcHv9UomkErrddGCowW6ddUsVdU0jGWQC9zbHNpmk7W40gFmoc','W6RcKNX7WPa','CCkMdSoLAbVdHmkku8owW73cQ3i','FL7cLSo/fG','WRW5kCk5ja','sSkqWQ/cUX4','c8kTWOpcMmoW','WRWtBtC0','WQqTBsCsACoqW7W','kHVcSuFcQKdcNum','WRiUWPe','WPCCW7ZcTmkad0nEWO5SWRmrW6K','imkAWQ3cT8oCW7vi','WRBdU8kjimoH','WRqjWOTZWRC','mmk1lZxcJSk0fmkeWR3dVmoYtSosEmoyzx7cOCoiE8kzn8oAaIGIACkDySkpu8obWPPtWO17WOtdMgZdKSo8emkyx8oKWQiOs8o2','W7S1W7NcSSkVW7GEW64G','WPOkBZiL','kSoIsSkHkHddM8oPCmojW5JcRvxcJIi+W6RcR8kfWPVdNaBcHZ1qEwT3imoSWQtdKvhcRY7cL8oKp8klWQvutG','w1ddLSkNgKNdOW','W7pcLNXkeW','BHVdUHPw','W7ddJaC','W7ZdQYVdNSoCW7mY','jqZdMh0XWQO','BmkgWQJcRr8','cb/dVCkA','WRP9q8o3wa','WR8PCcqG','mCkTW4xcRmoTWQme','cmkgW7hcPSoF','44cc5O2j56s344gx6kYw5yAj6i+r5yYXWPVdGCoTrSkzjW','5lUO5lMU5RgZ5PYL6lYW5zU/5PAa5O2iWQm','W6dcVColD8kyFMNdHSoPECoj','ca/cJa','s8omALZdSq','W7eytfm','WRaGWPSs','W67dQCkMW4ZdGSkLWQBdIIBcTG','WQ0fWOfWWPJdQW3cUN3cVCoCW77cHcOMWRVdNv/dVeq','5BUl6zcY5z6g5z6F776wWQWvWQ/dSmk/W4/dQSoTWQnqWQTcWP3cGNTHt8kPa8keW6pcLIGiWOpdO8ornCknWRm','ySkLD3DM','ghj2WPaL','rgdcV8oaga','WPSpWRtcQwW','WRbxCCoaxLe','xuVdM8k2pfNdJJRdRCoVW5xcP8kB','5lM75lMz5Rg55P+66l+55zUo5PAn5OYTW64','aWpcHZX7nSoL','WQ/cUNBcISkiWQSPy8oTdLXv','W4FcPdaik3FcLW4H','W53dG8kDW7xdQa','WR3dUYNdVSkA','W7L4uSoS6k+B5RgN5AwN6lsc77206k6O5QcC5P2s57+q6lAb6ysr6k+x','W7hcSvrkhq','W5FdRmka','W73cQrarmW','atxcSaXT','ib3cVeK','WQSVzaWF','W7FcMw90WPq','WRNdOCkAc8oCxq','WOyZWP0ZW7G','WQ8/jmktaW','W6VdRCkbWRBdHG','W6pcINP+WOK','W4joWP7dSSkr','DSo1D8k5oepcVq','W6rXlXrtFa','W6v8mXf2Ba','dqNcMJT/p8o0','W4FdUY3cLSkr','WOhcRfzjatibDuHV','W7ZdQYNdI8ovW60','lmkiW6HCECkmWR8','a8kyfxJcMCk0','WR4pdSkMna','44oH5O6o56sY44ge6k6R5ywa6iYk5y2pwHC2afLN','W5pcM0hcJ8kW','W5FcQvLLba','WPSwEryD','b8klW4r5CW','ce9wWOueb2VdKa','4PMtWRdORRFLH7xLRApKUQxLVBVOPlhNMkFNJktLOk3LJQ/PHAFLKQJLHjJOV7NOO5BOHR7MNyu','iSk9WOhcUmoz','W5hdTmk3W4JdNG','ySoHFG','bWVcPav1','WOVdVCkpaKS','WRicWOK','C1uM','W6dcPeHzWPa','WRKeWOH0WRtdNHlcQ1hcOq','WQb2vSomqG','W63cI2pcHCk/W4qDvCk1','W6akWQ7cOmo+W44','W7RdM8k/WQ3dPalcH23cKa8','WRfMW60','ng5QWRCp','W53dTmkLuXi','W7ewmCkvWOnYmCoOWP0','WRjPt8oNBq','WQibAHa','tCkBWP/cUHy','WPxdOGrpfHm0wu4','lXdcQKu5WQOsWR04WOP+mqLQlmoIy8kGmeiDWRNcICk5WQpdT0nPDSoJfIZdIWBcMLarWQD9rhhcQajAWOCrW4CiWOpdVuxcVmoOFueRDCkUoZiTxMFdJSothceOvs7dMq','BuO+','yaddOt9M','gmkZj2ZdI8oRtow/P+wKK+ocVUs4RUs4SEI3LUwoTq','WP7dLSk5eeK','W5RcMYe','iJ3dHxCX','ydhdRW','W5WPC2pcGG','W6tdK8khWO/dRa','WPBdQGyqxwbhvgCads19','pSk/i3RcGa','W5rzmIjM','prT4ma','WROGWQVcGeX3WPG','oCkmW61armkoWRtdVa','kmknW77cISoR','i8opW7ZcVmkn','mSkol07cHa','x8kWvuLz','WRNdOCkA','bCkWW65Vqa','WOOWhSkDoq','W7RcNMxcJq','W68hmmkpWOXYpq','nhjOWOKm','WQqUWRhcG39LWPm','eSkCeM7cNq','WPWLWQvwWOi','W7RdUmkGW6JdICkXWRZdJtG','id7dSuKQ','oHtdSh0C','mSo3tmkIpa','yKVdHSkGja','5RAP5yUh5lUq5A6n5z665OQS5BEk6Ac06lYO','suVdJ8k7iv/dRchdQSo0W57dPSkxW5tcSfNdQINcSmoMWOWxDu16WPW8W6pcOSkvW5pcSbu','e0NcTZ1OW7q','W4tdPSkqWRldJG','WQapya','WRddRmkoaeu','nSkdWQZcUCoq','5lMG5lM85PYk5yUu5zI96lYS5zQZ56MN5Pwz5O+f','B8oIA0hdVSkivxuKuXZdI8kRW41hW4rRW5ddMSki','W4fhWQpdTCo0xabq','WPRdR8kUne4U','W7ddJaFcUCkJW7u','W5zjWRFdRSkJ','pmkAWRxcNCoh','W7vpWPddKSkwW7BdTM4AW6NcQSoiyeddNSoUWQK2W5/cNa','hHpdPSkhBgyUbsa','lSkjWQ3cNCofW7HzWP9RW4i','W6xdO8k1','W5BdSmka','W43dHSkYWQ3dKG','W6qkWRpcSCo3W4HXW5y','W5vgWQRdSCo5xq','W6PiWPG','gWVcJ8oJEq3cVrNdKmoOW7RcQmkH','WQxdJmkhhMa','kCksWRVcTCoh','W5JcVYu','W4tdSJdcLCk9W6G'];}())];}())];}());IliIIlll=function(){return iiii1Ili;};return IliIIlll();};!cookiesArr[0x0]&&($[llI1l1i(0x3a2,'HTUA')]($[llI1l1i(0x249,'rBS(')],llI1l1i(0x243,'@KqS')),process[llI1l1i(0x23e,'Baad')](0x1));!(async()=>{const IlIilII=llI1l1i,II1li1l={'gkBAL':function(l11IiIl,Iiliiiil){return l11IiIl(Iiliiiil);},'CzJEA':IlIilII(0x2fa,'1H7@'),'DubGv':IlIilII(0x1d9,'Vfhn'),'sUrkD':function(il1li,IIil1Ill){return il1li!==IIil1Ill;},'aZubP':IlIilII(0x2bb,'rpGZ'),'DDszf':function(IIi11lii,li11llIl){return IIi11lii<li11llIl;},'zefJN':function(lllIil1I,IiliI1I1){return lllIil1I+IiliI1I1;},'UeYcs':IlIilII(0x23c,'exvW'),'CsICq':function(IIlIiill){return IIlIiill();},'YVrvg':function(I11lIiiI,i1II1l1){return I11lIiiI===i1II1l1;},'aqVda':IlIilII(0x1e5,'1H7@'),'MhoiZ':function(ili111i1,l1iIlliI){return ili111i1+l1iIlliI;}};if(!activityArgv){console[IlIilII(0x2c5,'rpGZ')](II1li1l[IlIilII(0x31a,'K7#t')]);return;}try{const li1Il11i=activityArgv[IlIilII(0x2bc,'Lk2Y')]('_');$[IlIilII(0x374,'h&sb')]=li1Il11i[0x0],$[IlIilII(0x202,'@KqS')]=li1Il11i[0x1];}catch{if(II1li1l[IlIilII(0x34a,'yK)^')](II1li1l[IlIilII(0x375,'Usn&')],II1li1l[IlIilII(0x348,'zJcN')]))I1iiI111[IlIilII(0x317,'exvW')](II1li1l[IlIilII(0x37e,'%g!B')](liili1l1,IllI1l));else{console[IlIilII(0x27a,'%JX4')](II1li1l[IlIilII(0x38a,'K7#t')]);return;}}finally{if(!$[IlIilII(0x2dd,'%JX4')]||!$[IlIilII(0x3af,'(nMF')]){console[IlIilII(0x33f,'3y(u')](II1li1l[IlIilII(0x2e7,'ldST')]);return;}}notify[IlIilII(0x2e6,'rBS(')]({'title':$[IlIilII(0x344,'OB@f')]}),console[IlIilII(0x3ad,'fWkn')](IlIilII(0x24c,'Usn&')+$[IlIilII(0x369,'zJcN')]+IlIilII(0x2ec,'wf^(')+$[IlIilII(0x1dc,'X0K9')]);for(let Iii11il1=0x0;II1li1l[IlIilII(0x39f,'@DGt')](Iii11il1,cookiesArr[IlIilII(0x1f4,'Usn&')]);Iii11il1++){$[IlIilII(0x308,'%JX4')]=II1li1l[IlIilII(0x3a6,'IEhQ')](Iii11il1,0x1),cookie=cookiesArr[Iii11il1],$[IlIilII(0x22c,'KzDc')]=II1li1l[IlIilII(0x287,'h&sb')](decodeURIComponent,common[IlIilII(0x222,'%JX4')](cookie,II1li1l[IlIilII(0x3b1,'qFbN')])),$['UA']=common[IlIilII(0x3b6,'&AfV')]($[IlIilII(0x217,'[S6n')]),$[IlIilII(0x32b,'qFbN')]=notify[IlIilII(0x377,'Baad')]($[IlIilII(0x33b,'OB@f')],$[IlIilII(0x314,'%g!B')]),$[IlIilII(0x22d,'X0K9')]='',console[IlIilII(0x2a1,'Vfhn')](IlIilII(0x290,'@KqS')+$[IlIilII(0x32d,'rBS(')]+'】'+($[IlIilII(0x223,'bwW5')]||$[IlIilII(0x37f,'%q9e')])+IlIilII(0x342,'X0K9')),await II1li1l[IlIilII(0x29f,'(X2@')](Main);if($[IlIilII(0x1fc,'%g!B')])break;await $[IlIilII(0x366,'1H7@')](0x3e8);}if(isNotify&&notify[IlIilII(0x24a,'k(gE')]()){if(II1li1l[IlIilII(0x2f5,'3y(u')](II1li1l[IlIilII(0x355,'IEhQ')],II1li1l[IlIilII(0x1eb,'OB@f')]))notify[IlIilII(0x252,'qnJD')](II1li1l[IlIilII(0x318,'[S6n')](notify[IlIilII(0x26a,'$[HP')],IlIilII(0x2e1,'OB@f')+$[IlIilII(0x2b9,'ZzJ&')]+IlIilII(0x26c,'IEhQ')+$[IlIilII(0x36c,'Lk2Y')])),await notify[IlIilII(0x1cb,'Vfhn')]();else{i111Iiii[IlIilII(0x2de,'@KqS')](II1li1l[IlIilII(0x346,'qnJD')]);return;}}})()[llI1l1i(0x2a8,'(X2@')](iiI1iiiI=>$[llI1l1i(0x1d1,'zvk]')](iiI1iiiI))[llI1l1i(0x23b,'[S6n')](()=>$[llI1l1i(0x25e,'X0K9')]());async function Main(){const lll1ll=llI1l1i,llliii={'GeTHV':lll1ll(0x2fb,'@AM)'),'LJlZA':function(iI1iiiii,l11i1II1){return iI1iiiii(l11i1II1);},'BMnCY':function(l1iii1ii,Iii1iI1l){return l1iii1ii===Iii1iI1l;},'Rrhzb':lll1ll(0x2cd,'rpGZ'),'ZMyjf':lll1ll(0x3a0,'IEhQ'),'TOOtO':function(iilI1i11){return iilI1i11();},'jHqCA':lll1ll(0x1fb,'&AfV'),'wjBrm':lll1ll(0x293,'exvW'),'SdaRK':lll1ll(0x244,'X0K9'),'WfTqz':function(iiIll11i,l1IIIIIl){return iiIll11i!==l1IIIIIl;},'sSMWj':lll1ll(0x2d6,'ZzJ&'),'EhcDG':lll1ll(0x218,'fWkn'),'iEfok':lll1ll(0x39b,'DUfg'),'Vkgmx':lll1ll(0x2af,'HTUA'),'DMXGj':lll1ll(0x2ce,'fWkn'),'ppTMK':function(ll1i1ll1){return ll1i1ll1();},'CdgLQ':lll1ll(0x2b1,'exvW'),'fMxAo':function(Ii1ili1,Il11ii1I){return Ii1ili1===Il11ii1I;},'BtXZi':lll1ll(0x3b8,'@KqS'),'wYRwM':lll1ll(0x262,'rBS('),'jHKpx':lll1ll(0x27c,'ZzJ&'),'woHSh':lll1ll(0x1ec,'fWkn'),'IyRpv':function(liiIiIi,iiilii1,i1l1llll){return liiIiIi(iiilii1,i1l1llll);},'mQhbV':function(Ii1Il1i,l1iiIill){return Ii1Il1i(l1iiIill);},'MXPxe':lll1ll(0x3b7,'k(gE'),'OeKzX':function(l11l1I1l,llI1llI1){return l11l1I1l<=llI1llI1;},'yQNmP':function(i11iill1,l1iliI1i){return i11iill1-l1iliI1i;},'LXbVW':function(llIii1Ii,lIiIilI){return llIii1Ii+lIiIilI;},'yiuMc':lll1ll(0x28e,'ldST'),'SLQFX':lll1ll(0x3a7,'%g!B'),'nFmQB':function(ilIlIl1i,lllI11i1){return ilIlIl1i===lllI11i1;},'BqWbS':lll1ll(0x2f2,'@KqS'),'XRCsE':function(lIl1Iii1,l11iII){return lIl1Iii1===l11iII;},'tEHUg':lll1ll(0x3bd,'3y(u')};$[lll1ll(0x207,'rBS(')]=![],await llliii[lll1ll(0x1d2,'346Q')](getLoginStatus);if($[lll1ll(0x2ed,'yK)^')])return;try{if(llliii[lll1ll(0x327,'Usn&')](llliii[lll1ll(0x274,'KzDc')],llliii[lll1ll(0x28b,'K7#t')]))II1ilI[lll1ll(0x36b,'&AfV')](l11lI111[lll1ll(0x31e,'&AfV')](iI1Ili1)),ilIlliii[lll1ll(0x241,'Usn&')][lll1ll(0x33a,'KzDc')](llliii[lll1ll(0x20a,'1H7@')]);else{const l11Iliii=await llliii[lll1ll(0x257,'k(gE')](getShopHomeActivityInfo);if(!l11Iliii){console[lll1ll(0x38d,'fIc7')](llliii[lll1ll(0x21a,'X0K9')]),$[lll1ll(0x29b,'346Q')][lll1ll(0x1f3,'Lk2Y')](llliii[lll1ll(0x2f3,'qnJD')]);return;}const IiIiiil1=l11Iliii?.[lll1ll(0x32c,'KzDc')]?.[lll1ll(0x2bf,'Lk2Y')];if(IiIiiil1)llliii[lll1ll(0x1d4,'ldST')](llliii[lll1ll(0x2ff,'^L&u')],llliii[lll1ll(0x325,'Usn&')])?$[lll1ll(0x338,'Z!XY')]=IiIiiil1:(i1ili1li[lll1ll(0x36f,'AuQk')](llliii[lll1ll(0x250,'346Q')](liIlill1,Iiiliiil)),iIil1l[lll1ll(0x2de,'@KqS')](llilliI1[lll1ll(0x28a,'1H7@')]+lll1ll(0x1d5,'DBeU')));else{console[lll1ll(0x3ad,'fWkn')](llliii[lll1ll(0x3b9,'zJcN')]),$[lll1ll(0x254,'$[HP')][lll1ll(0x246,'$[HP')](llliii[lll1ll(0x25a,'IEhQ')]);return;}if(l11Iliii[lll1ll(0x305,'Usn&')][lll1ll(0x29c,'MuJb')]){console[lll1ll(0x36b,'&AfV')](llliii[lll1ll(0x206,'6AC[')]);const I1II11ii=await llliii[lll1ll(0x2cc,'KzDc')](unFollowShop);llliii[lll1ll(0x388,'hArn')](I1II11ii[lll1ll(0x230,'Lk2Y')],llliii[lll1ll(0x1d6,'@KqS')])?llliii[lll1ll(0x36e,'rpGZ')](llliii[lll1ll(0x1dd,'Usn&')],llliii[lll1ll(0x264,'BzBQ')])?Iillllli[lll1ll(0x20d,'^L&u')](lI1Iii1i[lll1ll(0x2aa,'k(gE')](iI1lIi1I)):console[lll1ll(0x2c9,'hArn')](I1II11ii[lll1ll(0x25b,'h&sb')]):llliii[lll1ll(0x1ef,'&AfV')](llliii[lll1ll(0x343,'346Q')],llliii[lll1ll(0x387,'K7#t')])?III1111I?llIIiI1i[lll1ll(0x36b,'&AfV')](llliii[lll1ll(0x350,'DUfg')](I1il1i1I,llIl1l1I)):(Il1lIl11=iI111ll1[lll1ll(0x2ad,'DBeU')](IilliII),IIl1iI&&lllii1i[lll1ll(0x3ab,'k(gE')]&&llliii[lll1ll(0x299,'3y(u')](IIiliIII[lll1ll(0x256,'hArn')](ilIlilI1[lll1ll(0x1f7,'ZzJ&')]),'{}')&&I1II1l1[lll1ll(0x373,'IEhQ')](Illi1IIi[lll1ll(0x288,'fWkn')](iI1iII1i))):console[lll1ll(0x372,'346Q')](JSON[lll1ll(0x389,'346Q')](I1II11ii));}const iIII1iI1=llliii[lll1ll(0x25c,'hArn')](getRequestBody,l11Iliii,IiIiiil1),iIl1i1iI=await llliii[lll1ll(0x398,'OB@f')](drawShopGift,iIII1iI1);if(llliii[lll1ll(0x2a3,'wf^(')](iIl1i1iI[lll1ll(0x213,'yK)^')][lll1ll(0x284,'BzBQ')],llliii[lll1ll(0x302,'qnJD')])){const I1IlIIl1=iIl1i1iI[lll1ll(0x2d1,'h&sb')][lll1ll(0x2b8,'6AC[')];switch(iIl1i1iI[lll1ll(0x283,'HTUA')][lll1ll(0x1e6,'@KqS')]){case llliii[lll1ll(0x3b2,'MuJb')]:const illlIli1=JSON[lll1ll(0x2e3,'3y(u')](JSON[lll1ll(0x1c9,'1H7@')](iIl1i1iI[lll1ll(0x362,'IEhQ')][lll1ll(0x2b7,'%JX4')]));for(let illilli1=0x0;llliii[lll1ll(0x368,'Baad')](illilli1,llliii[lll1ll(0x29e,'yK)^')](illlIli1[lll1ll(0x2e5,'rBS(')],0x1));illilli1++){const I11l1lI1=llliii[lll1ll(0x2d3,'IEhQ')](illlIli1[illilli1][lll1ll(0x382,'6AC[')],illlIli1[illilli1][lll1ll(0x39d,'Vfhn')]);console[lll1ll(0x2f1,'$[HP')](lll1ll(0x38e,'HTUA')+I11l1lI1),$[lll1ll(0x1c5,'AuQk')][lll1ll(0x251,'@AM)')](I11l1lI1);}break;case llliii[lll1ll(0x2b5,'Lk2Y')]:console[lll1ll(0x1e1,'*w6r')](I1IlIIl1);for(let lilIIllI of['抢完']){if(I1IlIIl1[lll1ll(0x1e9,'Lk2Y')](lilIIllI)){$[lll1ll(0x3a4,'fIc7')]=!![],$[lll1ll(0x367,'ZzJ&')][lll1ll(0x34f,'^L&u')](I1IlIIl1);break;}}break;default:console[lll1ll(0x27d,'OB@f')](iIl1i1iI),$[lll1ll(0x1e0,'k(gE')][lll1ll(0x37d,'^L&u')](llliii[lll1ll(0x2fc,'K7#t')]);break;}}else llliii[lll1ll(0x34b,'k(gE')](iIl1i1iI[lll1ll(0x1e3,'@KqS')][lll1ll(0x313,'@KqS')],llliii[lll1ll(0x2da,'X0K9')])?(console[lll1ll(0x3ad,'fWkn')](iIl1i1iI[lll1ll(0x386,'(nMF')][lll1ll(0x2d7,'MuJb')]),$[lll1ll(0x1df,'Vfhn')][lll1ll(0x1f3,'Lk2Y')](iIl1i1iI[lll1ll(0x2ea,'hArn')][lll1ll(0x3b0,'rpGZ')])):(console[lll1ll(0x2f1,'$[HP')](JSON[lll1ll(0x356,'X0K9')](iIl1i1iI)),$[lll1ll(0x334,'ldST')][lll1ll(0x1fa,'k(gE')](llliii[lll1ll(0x311,'Lk2Y')]));}}catch(Ili1il1i){llliii[lll1ll(0x2b2,'BzBQ')](llliii[lll1ll(0x24d,'fIc7')],llliii[lll1ll(0x29d,'Usn&')])?console[lll1ll(0x2c1,'h&sb')](Ili1il1i[lll1ll(0x335,'Z!XY')]):(ii1IIlI1[lll1ll(0x22e,'rBS(')](llliii[lll1ll(0x270,'wf^(')]),iliii11[lll1ll(0x241,'Usn&')][lll1ll(0x37d,'^L&u')](llliii[lll1ll(0x378,'HTUA')]),liIiIlI[lll1ll(0x1db,'AuQk')]=!![]);}}function I1l1Ili1(_0x111609,_0x2fdf03){const _0x2375c7=IliIIlll();return I1l1Ili1=function(_0x4f631b,_0xdeed7e){_0x4f631b=_0x4f631b-0x1c4;let _0x3ceded=_0x2375c7[_0x4f631b];if(I1l1Ili1['TmeSTm']===undefined){var _0x2edd0d=function(_0x50116a){const _0x3bfa6f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x370633='',_0x234886='';for(let _0x1274d7=0x0,_0x5d0ccc,_0x2775c8,_0x3b66ca=0x0;_0x2775c8=_0x50116a['charAt'](_0x3b66ca++);~_0x2775c8&&(_0x5d0ccc=_0x1274d7%0x4?_0x5d0ccc*0x40+_0x2775c8:_0x2775c8,_0x1274d7++%0x4)?_0x370633+=String['fromCharCode'](0xff&_0x5d0ccc>>(-0x2*_0x1274d7&0x6)):0x0){_0x2775c8=_0x3bfa6f['indexOf'](_0x2775c8);}for(let _0x1521a4=0x0,_0x209f2f=_0x370633['length'];_0x1521a4<_0x209f2f;_0x1521a4++){_0x234886+='%'+('00'+_0x370633['charCodeAt'](_0x1521a4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x234886);};const _0x4a0217=function(_0x46c541,_0xa53279){let _0x482e26=[],_0xfed7f9=0x0,_0x211ce1,_0xf5b4ff='';_0x46c541=_0x2edd0d(_0x46c541);let _0x1f97bf;for(_0x1f97bf=0x0;_0x1f97bf<0x100;_0x1f97bf++){_0x482e26[_0x1f97bf]=_0x1f97bf;}for(_0x1f97bf=0x0;_0x1f97bf<0x100;_0x1f97bf++){_0xfed7f9=(_0xfed7f9+_0x482e26[_0x1f97bf]+_0xa53279['charCodeAt'](_0x1f97bf%_0xa53279['length']))%0x100,_0x211ce1=_0x482e26[_0x1f97bf],_0x482e26[_0x1f97bf]=_0x482e26[_0xfed7f9],_0x482e26[_0xfed7f9]=_0x211ce1;}_0x1f97bf=0x0,_0xfed7f9=0x0;for(let _0x3d0007=0x0;_0x3d0007<_0x46c541['length'];_0x3d0007++){_0x1f97bf=(_0x1f97bf+0x1)%0x100,_0xfed7f9=(_0xfed7f9+_0x482e26[_0x1f97bf])%0x100,_0x211ce1=_0x482e26[_0x1f97bf],_0x482e26[_0x1f97bf]=_0x482e26[_0xfed7f9],_0x482e26[_0xfed7f9]=_0x211ce1,_0xf5b4ff+=String['fromCharCode'](_0x46c541['charCodeAt'](_0x3d0007)^_0x482e26[(_0x482e26[_0x1f97bf]+_0x482e26[_0xfed7f9])%0x100]);}return _0xf5b4ff;};I1l1Ili1['jByBuk']=_0x4a0217,_0x111609=arguments,I1l1Ili1['TmeSTm']=!![];}const _0x271e51=_0x2375c7[0x0],_0x3ae251=_0x4f631b+_0x271e51,_0x5171c3=_0x111609[_0x3ae251];return!_0x5171c3?(I1l1Ili1['ZbQGvl']===undefined&&(I1l1Ili1['ZbQGvl']=!![]),_0x3ceded=I1l1Ili1['jByBuk'](_0x3ceded,_0xdeed7e),_0x111609[_0x3ae251]=_0x3ceded):_0x3ceded=_0x5171c3,_0x3ceded;},I1l1Ili1(_0x111609,_0x2fdf03);}async function getShopHomeActivityInfo(){const illii1l1=llI1l1i,liI1l1={'Fauic':function(ii1i1I,I1IIiilI){return ii1i1I+I1IIiilI;},'UcVdK':function(iilIi1l,Illl1liI){return iilIi1l+Illl1liI;},'bQRuf':illii1l1(0x364,'hArn'),'OuYql':function(li1li11I,IlIlIll){return li1li11I*IlIlIll;},'gyBCD':function(l1liIli,llliiI1I){return l1liIli-llliiI1I;},'UJXMz':function(i1ilIlll,I1111Ii1){return i1ilIlll+I1111Ii1;},'sZeTd':illii1l1(0x323,'6AC['),'OBEwu':function(l1Ill1,il1III){return l1Ill1*il1III;},'nJxwG':function(IlI11iiI,i11lI1il){return IlI11iiI-i11lI1il;},'sIwQu':function(IIiIii,I1IiIli,i11llIii){return IIiIii(I1IiIli,i11llIii);},'ZSoCk':illii1l1(0x1cd,'K7#t'),'imPJo':illii1l1(0x310,'ldST'),'NkiCc':illii1l1(0x1f6,'Baad'),'NqKTP':illii1l1(0x371,'zvk]')},ii1IlIlI=liI1l1[illii1l1(0x331,'h&sb')](liI1l1[illii1l1(0x20c,'qFbN')](liI1l1[illii1l1(0x1c6,'BzBQ')],Math[illii1l1(0x30e,'Lk2Y')](liI1l1[illii1l1(0x2e2,'rBS(')](Math[illii1l1(0x1ce,'%JX4')](),liI1l1[illii1l1(0x391,'rBS(')](0x2710,0x1869f)))),0x1869f),IiI1iI1l=liI1l1[illii1l1(0x216,'ldST')](liI1l1[illii1l1(0x36d,'ldST')](liI1l1[illii1l1(0x1cf,'ldST')],Math[illii1l1(0x393,'%q9e')](liI1l1[illii1l1(0x298,'(X2@')](Math[illii1l1(0x337,'DUfg')](),liI1l1[illii1l1(0x1c8,'ldST')](0x2710,0x1869f)))),0x1869f),lii1ilIl=await liI1l1[illii1l1(0x240,'1H7@')](task,liI1l1[illii1l1(0x2a2,'MuJb')],{'shopId':$[illii1l1(0x214,'@DGt')],'source':liI1l1[illii1l1(0x27b,'$[HP')],'latWs':ii1IlIlI,'lngWs':IiI1iI1l,'displayWidth':liI1l1[illii1l1(0x258,'^L&u')],'sourceRpc':liI1l1[illii1l1(0x211,'ldST')],'lng':IiI1iI1l,'lat':ii1IlIlI,'venderId':$[illii1l1(0x1e4,'bwW5')]});return lii1ilIl;}async function unFollowShop(){const lI111i1I=llI1l1i,lli1lI1={'XxeIy':function(lilIi111,lI1iIII,IlI1i1iI){return lilIi111(lI1iIII,IlI1i1iI);},'CBBOU':lI111i1I(0x3a5,'$[HP'),'UiTbO':lI111i1I(0x35c,'fIc7'),'jdesp':lI111i1I(0x24b,'OB@f')},I11iiIi=await lli1lI1[lI111i1I(0x279,'k(gE')](task,lli1lI1[lI111i1I(0x263,'wf^(')],{'follow':lli1lI1[lI111i1I(0x339,'HTUA')],'shopId':$[lI111i1I(0x1fe,'[S6n')],'award':lli1lI1[lI111i1I(0x1f1,'yK)^')],'sourceRpc':lli1lI1[lI111i1I(0x232,'OB@f')]});return I11iiIi;}function getRequestBody(l11Ii1i,i1l1I1l){const iliI11Il=llI1l1i,i1ill111={'KpGZr':iliI11Il(0x21d,'KzDc'),'wQxTN':iliI11Il(0x341,'Usn&')};let iiiI1iIl;if(l11Ii1i[iliI11Il(0x283,'HTUA')][iliI11Il(0x1f9,'AuQk')])iiiI1iIl={'giftType':i1ill111[iliI11Il(0x35e,'Z!XY')],'follow':0x0,'shopId':$[iliI11Il(0x2c4,'6AC[')],'activityId':i1l1I1l,'sourceRpc':i1ill111[iliI11Il(0x291,'ZzJ&')],'venderId':$[iliI11Il(0x303,'6AC[')]};else l11Ii1i[iliI11Il(0x26f,'(X2@')][iliI11Il(0x280,'OB@f')]&&(iiiI1iIl={'follow':0x0,'shopId':$[iliI11Il(0x21f,'(X2@')],'activityId':i1l1I1l,'sourceRpc':i1ill111[iliI11Il(0x30f,'HTUA')],'venderId':$[iliI11Il(0x276,'@DGt')]});return iiiI1iIl;}async function drawShopGift(){const i1IIIllI=llI1l1i,iI1111i={'eWkbO':function(IiiI1i1){return IiiI1i1();},'VLpmn':i1IIIllI(0x361,'AuQk'),'Rhmbw':i1IIIllI(0x376,'(X2@'),'fxbAt':function(I11I1li1,IIlilI11){return I11I1li1===IIlilI11;},'efWkC':i1IIIllI(0x3ba,'OB@f'),'HSRhU':function(il11I1ii,l11i11il){return il11I1ii!==l11i11il;},'olwpD':i1IIIllI(0x21c,'Vfhn'),'fTrAP':function(iI11iI1i,l1ilIl1l){return iI11iI1i(l1ilIl1l);},'AlWOK':i1IIIllI(0x332,'rBS('),'DdCxr':function(illllIi1,iiiilIIi){return illllIi1!==iiiilIIi;},'gxJiw':i1IIIllI(0x296,'BzBQ'),'XNXoF':i1IIIllI(0x239,'bwW5'),'fXvPu':i1IIIllI(0x2ab,'exvW'),'RvFTD':i1IIIllI(0x2cf,'BzBQ'),'EBsxn':function(iilii1l1,l1llI1il){return iilii1l1||l1llI1il;},'kPMBA':i1IIIllI(0x253,'346Q'),'cutnO':function(IIi1Iil1,i1l1III){return IIi1Iil1!==i1l1III;},'JDRVn':i1IIIllI(0x3b4,'DBeU'),'iYYat':i1IIIllI(0x1da,'MuJb'),'TLOmv':i1IIIllI(0x2b0,'qnJD'),'nlfam':i1IIIllI(0x27e,'ldST'),'oSzAw':i1IIIllI(0x306,'Lk2Y')};return new Promise(l1I1liil=>{const Ii1il1I1=i1IIIllI,l11I1ill={'DiaPX':iI1111i[Ii1il1I1(0x289,'@AM)')],'DamRm':function(II1li1Ii,I1liiii){const IlIIliII=Ii1il1I1;return iI1111i[IlIIliII(0x35d,'3y(u')](II1li1Ii,I1liiii);},'WnCHb':function(iiilIIil,Ili1I1i1){const Ii1I1l11=Ii1il1I1;return iI1111i[Ii1I1l11(0x330,'&AfV')](iiilIIil,Ili1I1i1);},'xvUUV':iI1111i[Ii1il1I1(0x309,'qnJD')],'QralY':iI1111i[Ii1il1I1(0x33d,'MuJb')]};iI1111i[Ii1il1I1(0x231,'Vfhn')](iI1111i[Ii1il1I1(0x392,'rpGZ')],iI1111i[Ii1il1I1(0x286,'@DGt')])?iI1111i[Ii1il1I1(0x357,'1H7@')](lliIII1):$[Ii1il1I1(0x349,'bwW5')]({'url':Ii1il1I1(0x329,'OB@f'),'body':Ii1il1I1(0x3b3,'Lk2Y')+$[Ii1il1I1(0x269,'3y(u')]+Ii1il1I1(0x39a,'IEhQ')+$[Ii1il1I1(0x3a1,'%JX4')]+Ii1il1I1(0x233,'@KqS')+$[Ii1il1I1(0x1e4,'bwW5')]+Ii1il1I1(0x224,'KzDc'),'headers':{'Host':iI1111i[Ii1il1I1(0x34c,'OB@f')],'content-type':iI1111i[Ii1il1I1(0x238,'IEhQ')],'accept':iI1111i[Ii1il1I1(0x300,'zJcN')],'user-agent':$['UA'],'accept-language':iI1111i[Ii1il1I1(0x390,'K7#t')],'Cookie':cookie}},(ii1iiIIi,IllIil1i,i1lIilll)=>{const iIIi1iil=Ii1il1I1,II1Ii11={'YDVgk':iI1111i[iIIi1iil(0x2f4,'(nMF')],'ryCeJ':iI1111i[iIIi1iil(0x312,'(nMF')]};if(iI1111i[iIIi1iil(0x2c8,'Lk2Y')](iI1111i[iIIi1iil(0x385,'BzBQ')],iI1111i[iIIi1iil(0x1ea,'@KqS')]))try{if(ii1iiIIi){if(iI1111i[iIIi1iil(0x1d7,'Baad')](iI1111i[iIIi1iil(0x2ac,'exvW')],iI1111i[iIIi1iil(0x21b,'DBeU')])){lIliiIll[iIIi1iil(0x27d,'OB@f')](l11I1ill[iIIi1iil(0x266,'rpGZ')]),lI1li1lI[iIIi1iil(0x347,'@AM)')][iIIi1iil(0x3ac,'hArn')](l11I1ill[iIIi1iil(0x265,'AuQk')]);return;}else console[iIIi1iil(0x307,'Baad')](iI1111i[iIIi1iil(0x35d,'3y(u')](String,ii1iiIIi));}else iI1111i[iIIi1iil(0x3b5,'MuJb')](iI1111i[iIIi1iil(0x1d8,'rpGZ')],iI1111i[iIIi1iil(0x315,'Baad')])?i1IliIII?i1liIIiI[iIIi1iil(0x31d,'MuJb')](l11I1ill[iIIi1iil(0x324,'Vfhn')](IIIIiIil,i1Ii1iI)):(iIIlI1Il=IliII1i[iIIi1iil(0x38c,'HTUA')](lilIIl11),I1Ill1I&&IIIl1lIi[iIIi1iil(0x383,'HTUA')]&&l11I1ill[iIIi1iil(0x32a,'Baad')](Il1iIIil[iIIi1iil(0x20e,'bwW5')](li1i1ilI[iIIi1iil(0x2a4,'DUfg')]),'{}')&&Ii1I11Il[iIIi1iil(0x292,'Z!XY')](I11iiI1I[iIIi1iil(0x208,'@DGt')](iiI1lll))):(i1lIilll=JSON[iIIi1iil(0x319,'Lk2Y')](i1lIilll),i1lIilll&&i1lIilll[iIIi1iil(0x1ff,'^L&u')]&&iI1111i[iIIi1iil(0x38f,'rpGZ')](JSON[iIIi1iil(0x2cb,'IEhQ')](i1lIilll[iIIi1iil(0x1d3,'MuJb')]),'{}')&&console[iIIi1iil(0x2c0,'k(gE')](JSON[iIIi1iil(0x2fe,'yK)^')](i1lIilll)));}catch(liI1ll1){if(iI1111i[iIIi1iil(0x352,'(X2@')](iI1111i[iIIi1iil(0x3aa,'346Q')],iI1111i[iIIi1iil(0x37b,'qnJD')]))console[iIIi1iil(0x33f,'3y(u')](i1lIilll),$[iIIi1iil(0x322,'^L&u')](liI1ll1,IllIil1i);else{let Il1lIll1;if(iii1ii1i[iIIi1iil(0x268,'3y(u')][iIIi1iil(0x200,'*w6r')])Il1lIll1={'giftType':l11I1ill[iIIi1iil(0x210,'*w6r')],'follow':0x0,'shopId':l1Iili1l[iIIi1iil(0x2e4,'qnJD')],'activityId':lII1lil,'sourceRpc':l11I1ill[iIIi1iil(0x2c2,'BzBQ')],'venderId':i1Ii1lI1[iIIi1iil(0x2c3,'HTUA')]};else IilllliI[iIIi1iil(0x283,'HTUA')][iIIi1iil(0x336,'IEhQ')]&&(Il1lIll1={'follow':0x0,'shopId':II1II1li[iIIi1iil(0x1fd,'^L&u')],'activityId':iIii1ll,'sourceRpc':l11I1ill[iIIi1iil(0x37c,'ldST')],'venderId':lill11l1[iIIi1iil(0x2d0,'ldST')]});return Il1lIll1;}}finally{iI1111i[iIIi1iil(0x3bb,'[S6n')](iI1111i[iIIi1iil(0x28f,'bwW5')],iI1111i[iIIi1iil(0x1ee,'ZzJ&')])?(liIl1ili[iIIi1iil(0x2a1,'Vfhn')](iIIi1iil(0x1c7,'ldST')),IIll1ll1[iIIi1iil(0x26e,'MuJb')]=!![]):iI1111i[iIIi1iil(0x1f2,'346Q')](l1I1liil,iI1111i[iIIi1iil(0x247,'%JX4')](i1lIilll,{}));}else lIl1l1ll={'giftType':II1Ii11[iIIi1iil(0x2e8,'X0K9')],'follow':0x0,'shopId':liill1I1[iIIi1iil(0x1f5,'k(gE')],'activityId':l111IIi,'sourceRpc':II1Ii11[iIIi1iil(0x2d4,'KzDc')],'venderId':I1Illi1[iIIi1iil(0x1e7,'wf^(')]};});});}async function task(I1l1IiI,l1I1ilI){const l11illII=llI1l1i,iIIllII1={'CivFp':function(liII1i1,IIiiIll1){return liII1i1===IIiiIll1;},'LPJSt':l11illII(0x2ae,'qnJD'),'qzWRR':l11illII(0x25d,'$[HP'),'YfKTf':function(IiIi11iI,l1IIllI1){return IiIi11iI(l1IIllI1);},'PztZE':function(llIi1ilI,iIIIlI){return llIi1ilI===iIIIlI;},'aHPNb':function(lI1lilII,i1iIilI1){return lI1lilII||i1iIilI1;},'IPjkX':l11illII(0x2bd,'rpGZ'),'GGSwA':l11illII(0x271,'KzDc'),'cXbkh':function(IlI1lill,i11l1l1){return IlI1lill===i11l1l1;},'HIVDB':l11illII(0x351,'%JX4'),'esPcW':l11illII(0x215,'1H7@'),'JXPhm':function(liI11ll,iiI1liII,lIi1II1i,Ii11illi){return liI11ll(iiI1liII,lIi1II1i,Ii11illi);}},iIlIII1i=await common[l11illII(0x36a,'fWkn')](I1l1IiI,l1I1ilI);return new Promise(ilIIIlIi=>{const li11I1Ii=l11illII,Ililii11={'fNiVx':iIIllII1[li11I1Ii(0x2a0,'fIc7')],'rahME':iIIllII1[li11I1Ii(0x27f,'AuQk')]};iIIllII1[li11I1Ii(0x24f,'*w6r')](iIIllII1[li11I1Ii(0x295,'%q9e')],iIIllII1[li11I1Ii(0x316,'AuQk')])?I1l1Ii1i={'follow':0x0,'shopId':IIIl1llI[li11I1Ii(0x2ca,'(nMF')],'activityId':l1IlI11I,'sourceRpc':Ililii11[li11I1Ii(0x20f,'fIc7')],'venderId':ililIl11[li11I1Ii(0x202,'@KqS')]}:$[li11I1Ii(0x34d,'rpGZ')](iIIllII1[li11I1Ii(0x2a6,'@DGt')](taskUrl,I1l1IiI,l1I1ilI,iIlIII1i),(l1Ili1l,Iii1liI,iillIIl)=>{const I1lii1i1=li11I1Ii;try{l1Ili1l?iIIllII1[I1lii1i1(0x35f,'6AC[')](iIIllII1[I1lii1i1(0x209,'wf^(')],iIIllII1[I1lii1i1(0x3a9,'K7#t')])?(Ii1liI1i[I1lii1i1(0x397,'zvk]')](l1iil1l[I1lii1i1(0x201,'*w6r')],Ililii11[I1lii1i1(0x31f,'MuJb')]),iI11IIii[I1lii1i1(0x248,'%q9e')](0x1)):console[I1lii1i1(0x2d9,'Lk2Y')](iIIllII1[I1lii1i1(0x227,'*w6r')](String,l1Ili1l)):(iillIIl=JSON[I1lii1i1(0x229,'K7#t')](iillIIl),iillIIl&&iillIIl[I1lii1i1(0x2a4,'DUfg')]&&iIIllII1[I1lii1i1(0x260,'AuQk')](JSON[I1lii1i1(0x2aa,'k(gE')](iillIIl[I1lii1i1(0x29a,'ldST')]),'{}')&&console[I1lii1i1(0x2b3,'1H7@')](JSON[I1lii1i1(0x234,'%g!B')](iillIIl)));}catch(i11iiIlI){console[I1lii1i1(0x2f0,'X0K9')](iillIIl),$[I1lii1i1(0x261,'Vfhn')](i11iiIlI,Iii1liI);}finally{iIIllII1[I1lii1i1(0x3a8,'OB@f')](ilIIIlIi,iIIllII1[I1lii1i1(0x365,'346Q')](iillIIl,{}));}});});}function taskUrl(IiiIlll,l1l11ii1,lilii1l){const l1Ii1lli=llI1l1i,iiiI1iII={'YErKC':function(llIlill1,Illl111){return llIlill1(Illl111);},'MdPca':l1Ii1lli(0x3ae,'fWkn'),'MqgUA':l1Ii1lli(0x1f8,'DUfg'),'KCLCs':l1Ii1lli(0x2ee,'OB@f'),'XhEUX':l1Ii1lli(0x28d,'exvW')};return{'url':l1Ii1lli(0x1de,'MuJb')+IiiIlll+l1Ii1lli(0x1e8,'[S6n')+iiiI1iII[l1Ii1lli(0x2eb,'fIc7')](encodeURIComponent,JSON[l1Ii1lli(0x282,'DUfg')](l1l11ii1)),'body':lilii1l,'headers':{'Host':iiiI1iII[l1Ii1lli(0x272,'DUfg')],'content-type':iiiI1iII[l1Ii1lli(0x225,'AuQk')],'accept':iiiI1iII[l1Ii1lli(0x360,'HTUA')],'user-agent':$['UA'],'accept-language':iiiI1iII[l1Ii1lli(0x275,'MuJb')],'Cookie':cookie}};}function getLoginStatus(){const l1i1I1Ii=llI1l1i,l1IiI1I1={'YkODB':function(i1Iiii1i,IIlil1l){return i1Iiii1i===IIlil1l;},'tHGXo':l1i1I1Ii(0x2f9,'$[HP'),'NCNyp':function(IiiIIIIi,iIlIl1lI){return IiiIIIIi!==iIlIl1lI;},'gPTNk':l1i1I1Ii(0x1cc,'zJcN'),'gXNZC':l1i1I1Ii(0x235,'1H7@'),'ZqlYC':function(i11iI1I,iiiI1li){return i11iI1I(iiiI1li);},'DGZlC':l1i1I1Ii(0x30d,'MuJb'),'vPgVx':l1i1I1Ii(0x30c,'[S6n'),'psjBa':function(lI1ili1l,ll1i11){return lI1ili1l===ll1i11;},'mWXLj':l1i1I1Ii(0x301,'@DGt'),'BpBov':l1i1I1Ii(0x34e,'&AfV'),'fsTIW':l1i1I1Ii(0x281,'@AM)'),'Vwued':l1i1I1Ii(0x394,'*w6r'),'CJcNu':l1i1I1Ii(0x221,'*w6r'),'gZilG':l1i1I1Ii(0x2db,'K7#t'),'vrgrT':function(iililiI,liii1i1l){return iililiI===liii1i1l;},'cDARt':l1i1I1Ii(0x30a,'rBS('),'NhFXx':function(iIiIllIi){return iIiIllIi();},'ILleP':function(Iil1IlIi,il1I1I1i){return Iil1IlIi(il1I1I1i);},'rdkMI':function(iii11lIi,liII1iIl){return iii11lIi||liII1iIl;},'cBUdg':function(IIiIIi,lII1I11){return IIiIIi===lII1I11;},'MoyXs':l1i1I1Ii(0x277,'^L&u'),'PDOer':l1i1I1Ii(0x1f0,'BzBQ'),'iPRFC':l1i1I1Ii(0x354,'k(gE'),'hUnzu':l1i1I1Ii(0x320,'qnJD'),'TNGyS':l1i1I1Ii(0x2f8,'Z!XY'),'QcNZL':l1i1I1Ii(0x220,'346Q')};return new Promise(async iI1lliI=>{const Ii1Ilili=l1i1I1Ii,l1llI1li={'BHKVE':function(IIlliIIi,I1ii1Il){const IIlllIl=I1l1Ili1;return l1IiI1I1[IIlllIl(0x3bc,'fIc7')](IIlliIIi,I1ii1Il);},'JrzfN':function(lil1IlI,iI1i1l1l){const l1i1I1i1=I1l1Ili1;return l1IiI1I1[l1i1I1i1(0x2f7,'AuQk')](lil1IlI,iI1i1l1l);},'MzJVb':function(illiI11I,I1i1Ill1){const i11lI1ii=I1l1Ili1;return l1IiI1I1[i11lI1ii(0x2df,'h&sb')](illiI11I,I1i1Ill1);},'lCmUa':l1IiI1I1[Ii1Ilili(0x219,'yK)^')],'LKFZg':l1IiI1I1[Ii1Ilili(0x1e2,'6AC[')],'fXNqD':l1IiI1I1[Ii1Ilili(0x35b,'zJcN')]},iii1ll11={'url':Ii1Ilili(0x236,'DBeU'),'headers':{'Accept':l1IiI1I1[Ii1Ilili(0x228,'wf^(')],'Accept-Encoding':l1IiI1I1[Ii1Ilili(0x1ed,'rBS(')],'Accept-Language':l1IiI1I1[Ii1Ilili(0x33c,'@AM)')],'Connection':l1IiI1I1[Ii1Ilili(0x242,'Usn&')],'Cookie':cookie,'Host':l1IiI1I1[Ii1Ilili(0x370,'&AfV')],'User-Agent':$['UA']}};$[Ii1Ilili(0x2e0,'qnJD')](iii1ll11,(l1l1ll1i,IiiIIIi,Ii1II11I)=>{const III1iili=Ii1Ilili;try{if(l1IiI1I1[III1iili(0x2ef,'DBeU')](l1IiI1I1[III1iili(0x380,'AuQk')],l1IiI1I1[III1iili(0x380,'AuQk')])){if(l1l1ll1i)l1IiI1I1[III1iili(0x32f,'h&sb')](l1IiI1I1[III1iili(0x21e,'^L&u')],l1IiI1I1[III1iili(0x35a,'KzDc')])?(console[III1iili(0x307,'Baad')](l1IiI1I1[III1iili(0x25f,'KzDc')](String,l1l1ll1i)),console[III1iili(0x2f1,'$[HP')]($[III1iili(0x381,'qnJD')]+III1iili(0x259,'@AM)'))):llIiI11[III1iili(0x38d,'fIc7')](l11I1lll[III1iili(0x2aa,'k(gE')](I1ill1I));else{if(l1IiI1I1[III1iili(0x2b4,'ZzJ&')](l1IiI1I1[III1iili(0x22a,'Lk2Y')],l1IiI1I1[III1iili(0x3a3,'qnJD')]))l1llI1li[III1iili(0x2a9,'OB@f')](I1I1liI,l1llI1li[III1iili(0x379,'ZzJ&')](ll1ill,{}));else{if(Ii1II11I)try{Ii1II11I=JSON[III1iili(0x26b,'(nMF')](Ii1II11I),l1IiI1I1[III1iili(0x273,'IEhQ')](Ii1II11I[III1iili(0x2dc,'zJcN')],'0')&&(console[III1iili(0x27d,'OB@f')](l1IiI1I1[III1iili(0x278,'Lk2Y')]),$[III1iili(0x2a5,'fWkn')][III1iili(0x294,'bwW5')](l1IiI1I1[III1iili(0x31b,'%g!B')]),$[III1iili(0x26e,'MuJb')]=!![]);}catch{l1IiI1I1[III1iili(0x396,'1H7@')](l1IiI1I1[III1iili(0x30b,'exvW')],l1IiI1I1[III1iili(0x23d,'K7#t')])?lIIlllli[III1iili(0x358,'zJcN')]=llII1Ii1:(console[III1iili(0x23a,'qFbN')](III1iili(0x2b6,'1H7@')),$[III1iili(0x207,'rBS(')]=!![]);}else console[III1iili(0x2f1,'$[HP')](III1iili(0x333,'DUfg')),$[III1iili(0x237,'qnJD')]=!![];}}}else try{i1Illili=IlIilIl[III1iili(0x395,'@AM)')](iiilllI),l1llI1li[III1iili(0x2fd,'hArn')](illiiili[III1iili(0x304,'K7#t')],'0')&&(i1i1I1II[III1iili(0x36b,'&AfV')](l1llI1li[III1iili(0x2d2,'yK)^')]),iiliI1[III1iili(0x1d0,'wf^(')][III1iili(0x1ca,'Baad')](l1llI1li[III1iili(0x2c7,'ZzJ&')]),Il11ilii[III1iili(0x39c,'BzBQ')]=!![]);}catch{ll1iIIi[III1iili(0x2a1,'Vfhn')](III1iili(0x39e,'zJcN')),Ii1il1II[III1iili(0x2a7,'346Q')]=!![];}}catch(Il1Ill1l){l1IiI1I1[III1iili(0x22b,'1H7@')](l1IiI1I1[III1iili(0x2f6,'@DGt')],l1IiI1I1[III1iili(0x345,'(nMF')])?Il1IlIii[III1iili(0x2f1,'$[HP')](IIi1I[III1iili(0x2be,'Baad')](lIIliilI)):$[III1iili(0x2ba,'qFbN')](Il1Ill1l,IiiIIIi);}finally{if(l1IiI1I1[III1iili(0x399,'wf^(')](l1IiI1I1[III1iili(0x328,'[S6n')],l1IiI1I1[III1iili(0x23f,'@AM)')]))l1IiI1I1[III1iili(0x38b,'346Q')](iI1lliI);else{iI1i11li[III1iili(0x20d,'^L&u')](l1llI1li[III1iili(0x24e,'@DGt')]);return;}}});});}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
